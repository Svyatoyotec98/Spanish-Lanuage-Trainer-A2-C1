# Инструкция по заполнению Palabras для юнитов 2-10

## Общая информация

Код приложения универсален — один и тот же код обрабатывает все юниты. Для добавления нового юнита достаточно заполнить JSON-файл по шаблону Unidad 1.

**Источники данных:**
- ~30% из PDF: испанские слова, группировка по темам
- ~70% генерируется: русский перевод, тип, иконка, hardSentences, hardSentencesRu

---

## Структура JSON файла

```json
{
  "id": "unidad2",
  "title": "Unidad 2",
  "groups": {
    "NOMBRE_GRUPO": [
      { /* слово 1 */ },
      { /* слово 2 */ }
    ],
    "OTRO_GRUPO": [
      { /* слово 3 */ }
    ]
  },
  "ejercicios": []
}
```

**Правила именования групп:**
- Название на испанском в UPPER_SNAKE_CASE
- Примеры: `FAMILIA`, `IDIOMAS_APRENDIZAJE`, `EMOCIONES`, `VIAJES`
- Должно отражать тематику слов в группе

---

## Структура объекта слова

```json
{
  "spanish": "el abuelo",
  "ru": "дедушка",
  "type": "sustantivo",
  "icon": "user",
  "useIcon": true,
  "hardSentences": [
    "Mi ___ paterno tiene 85 años.",
    "El ___ de mi esposa cocina muy bien.",
    "Visitamos a mi ___ cada domingo.",
    "El ___ nos contó historias de su juventud."
  ],
  "hardSentencesRu": [
    "Моему дедушке по отцовской линии 85 лет.",
    "Дедушка моей жены очень хорошо готовит.",
    "Мы навещаем моего дедушку каждое воскресенье.",
    "Дедушка рассказал нам истории из своей молодости."
  ]
}
```

---

## Детальные правила по каждому полю

### 1. `spanish` — испанское слово

**Правила:**
- Существительные с артиклем: `el padre`, `la madre`, `el idioma`
- Прилагательные без артикля: `emocionado`, `nervioso`
- Глаголы в инфинитиве: `hablar`, `aprender`, `sentir`

**Примеры:**
| Тип | Формат | Пример |
|-----|--------|--------|
| sustantivo | el/la + слово | `el hermano` |
| adjetivo | слово | `contento` |
| verbo | инфинитив | `viajar` |

---

### 2. `ru` — русский перевод

**Правила:**
- Точный перевод значения слова
- Для прилагательных добавлять маркер рода: `(м)` или `(ж)`
- Использовать наиболее частотное значение

**Примеры:**
| spanish | ru | Комментарий |
|---------|-----|-------------|
| el abuelo | дедушка | Без маркера (существительное) |
| contento | довольный (м) | С маркером мужского рода |
| nerviosa | нервная (ж) | С маркером женского рода |
| hablar | говорить | Глагол в инфинитиве |

---

### 3. `type` — тип слова

**Три возможных значения:**

| type | Определение | Как распознать |
|------|-------------|----------------|
| `sustantivo` | Существительное | Есть артикль el/la |
| `adjetivo` | Прилагательное | Описывает качество, окончание -o/-a/-e |
| `verbo` | Глагол | Окончание -ar/-er/-ir |

**Алгоритм определения:**
1. Есть артикль (el/la)? → `sustantivo`
2. Окончание -ar/-er/-ir? → `verbo`
3. Иначе → `adjetivo`

---

### 4. `icon` — название иконки

**Источник:** папка `icons/` содержит 1512 иконок Phosphor Icons

**Правила выбора:**
- Семантическая ассоциация со значением слова
- Использовать простые, узнаваемые иконки
- Название без расширения .svg

**Примеры ассоциаций:**
| Слово | icon | Логика |
|-------|------|--------|
| el padre | user | Человек/персона |
| el idioma | translate | Языки/перевод |
| contento | smiley | Эмоция радости |
| viajar | airplane | Путешествие |
| el hotel | buildings | Здание |
| hablar | chat-circle | Общение |

**Частые иконки для категорий:**
- Люди: `user`, `users`, `user-circle`
- Эмоции: `smiley`, `smiley-sad`, `heart`
- Путешествия: `airplane`, `car`, `map-pin`, `buildings`
- Образование: `book`, `graduation-cap`, `translate`
- Действия: `chat-circle`, `hand-waving`, `pencil`

---

### 5. `useIcon` — использовать иконку

**Всегда ставить `true`** — все слова отображаются с иконками.

---

### 6. `hardSentences` — 4 предложения для Hard теста

**Общие правила:**
- Ровно 4 предложения на каждое слово
- Placeholder `___` на месте слова
- Контекст должен однозначно указывать на ответ
- Разнообразие конструкций и ситуаций

**КРИТИЧЕСКИ ВАЖНО — правила для разных типов:**

#### Для `sustantivo` (существительное):
- В пропуск ставится слово **БЕЗ артикля**
- Артикль остаётся в предложении перед `___`

```
Слово: "el abuelo"
Ответ пользователя: "abuelo" (без артикля!)

Предложение: "Mi ___ paterno tiene 85 años."
              ↑ артикля нет, но ответ всё равно без артикля

Предложение: "El ___ de mi esposa cocina muy bien."
              ↑ артикль в предложении, ответ: "abuelo"
```

#### Для `adjetivo` (прилагательное):
- Слово должно согласовываться с существительным в предложении
- Можно использовать разные формы (м/ж, ед/мн)

```
Слово: "contento"

Предложение: "Estoy muy ___ con los resultados."
              ↑ согласуется с "yo" (м.р.)

Предложение: "Ella está ___ con su trabajo."
              ↑ здесь ответ "contenta" (ж.р.) - НО в JSON храним "contento"
```

**Важно:** В словаре хранится базовая форма (м.р. ед.ч.), но в предложениях контекст может требовать согласования.

#### Для `verbo` (глагол):
- Использовать конструкции с инфинитивом (после другого глагола)
- Глагол остаётся в инфинитиве

```
Слово: "viajar"
Ответ: "viajar" (инфинитив)

Предложение: "Me encanta ___ por el mundo."
              ↑ после глагола "encantar" идёт инфинитив

Предложение: "Quiero ___ a España este verano."
              ↑ после "querer" идёт инфинитив
```

**Типичные конструкции для глаголов:**
- `querer + ___` (хотеть)
- `poder + ___` (мочь)
- `necesitar + ___` (нуждаться)
- `gustar + ___` (нравится)
- `encantar + ___` (обожать)
- `preferir + ___` (предпочитать)
- `deber + ___` (должен)

---

### 7. `hardSentencesRu` — русские переводы

**Правила:**
- Литературный перевод, НЕ дословный
- Естественное звучание на русском языке
- Точное соответствие смыслу испанского предложения

**Пример:**
```
ES: "Mi abuelo paterno tiene 85 años."
RU: "Моему дедушке по отцовской линии 85 лет."
    НЕ: "Мой дедушка по отцу имеет 85 лет."
```

---

## Пошаговый алгоритм заполнения юнита

### Шаг 1: Извлечение слов из PDF
1. Открыть PDF файл соответствующего юнита из `SpanishUnidads/`
2. Найти раздел Palabras/Vocabulario
3. Выписать все слова с группировкой по темам

### Шаг 2: Создание групп
1. Определить логические группы (3-6 групп на юнит)
2. Назвать группы в UPPER_SNAKE_CASE на испанском
3. Распределить слова по группам (6-18 слов в группе)

### Шаг 3: Заполнение каждого слова
Для каждого слова последовательно:

```
1. spanish ← скопировать из PDF (с артиклем для существительных)
2. type ← определить по правилам (sustantivo/adjetivo/verbo)
3. ru ← перевести, добавить (м)/(ж) для прилагательных
4. icon ← выбрать из icons/ по семантической ассоциации
5. useIcon ← true
6. hardSentences ← написать 4 предложения по правилам типа
7. hardSentencesRu ← перевести литературно
```

### Шаг 4: Валидация
Проверить:
- [ ] Все слова имеют все 7 полей
- [ ] hardSentences содержит ровно 4 предложения
- [ ] hardSentencesRu содержит ровно 4 перевода
- [ ] Пропуск `___` присутствует в каждом предложении
- [ ] JSON валиден (проверить парсером)

---

## Чек-лист качества

### Для каждого слова:
- [ ] `spanish` корректно скопировано из PDF
- [ ] `ru` точно передаёт значение
- [ ] `type` соответствует правилам определения
- [ ] `icon` семантически связана со словом
- [ ] `hardSentences` — 4 уникальных предложения
- [ ] Контекст однозначно указывает на ответ
- [ ] Правила типа соблюдены (артикль/согласование/инфинитив)
- [ ] `hardSentencesRu` — литературные переводы

### Для группы:
- [ ] 6-18 слов в группе
- [ ] Слова тематически связаны
- [ ] Название группы на испанском в UPPER_SNAKE_CASE

### Для юнита:
- [ ] 3-6 групп
- [ ] JSON валиден
- [ ] Все обязательные поля заполнены

---

## Примеры заполненных слов по типам

### Пример sustantivo:
```json
{
  "spanish": "la maleta",
  "ru": "чемодан",
  "type": "sustantivo",
  "icon": "suitcase",
  "useIcon": true,
  "hardSentences": [
    "Necesito comprar una ___ nueva para el viaje.",
    "Mi ___ pesa más de 20 kilos.",
    "Dejé la ___ en la recepción del hotel.",
    "No encuentro mi ___ en el aeropuerto."
  ],
  "hardSentencesRu": [
    "Мне нужно купить новый чемодан для поездки.",
    "Мой чемодан весит больше 20 килограммов.",
    "Я оставил чемодан на ресепшене отеля.",
    "Я не могу найти свой чемодан в аэропорту."
  ]
}
```

### Пример adjetivo:
```json
{
  "spanish": "cansado",
  "ru": "уставший (м)",
  "type": "adjetivo",
  "icon": "battery-low",
  "useIcon": true,
  "hardSentences": [
    "Estoy muy ___ después del trabajo.",
    "Mi padre está ___ de tanto caminar.",
    "El viajero llegó ___ al hotel.",
    "No puedo salir, estoy demasiado ___."
  ],
  "hardSentencesRu": [
    "Я очень устал после работы.",
    "Мой отец устал от долгой ходьбы.",
    "Путешественник приехал в отель уставшим.",
    "Я не могу выйти, я слишком устал."
  ]
}
```

### Пример verbo:
```json
{
  "spanish": "reservar",
  "ru": "бронировать",
  "type": "verbo",
  "icon": "calendar-check",
  "useIcon": true,
  "hardSentences": [
    "Necesito ___ una habitación para dos noches.",
    "¿Puedes ___ una mesa en el restaurante?",
    "Prefiero ___ los vuelos con anticipación.",
    "Hay que ___ el hotel antes de viajar."
  ],
  "hardSentencesRu": [
    "Мне нужно забронировать номер на две ночи.",
    "Можешь забронировать столик в ресторане?",
    "Я предпочитаю бронировать билеты заранее.",
    "Нужно забронировать отель перед поездкой."
  ]
}
```

---

## Справочник иконок по категориям

### Люди и семья:
`user`, `users`, `user-circle`, `baby`, `person`

### Эмоции:
`smiley`, `smiley-sad`, `smiley-nervous`, `heart`, `fire`

### Путешествия:
`airplane`, `car`, `train`, `bus`, `map-pin`, `compass`, `suitcase`, `buildings`

### Образование и языки:
`book`, `book-open`, `graduation-cap`, `translate`, `chats`, `pencil`

### Действия и общение:
`chat-circle`, `hand-waving`, `handshake`, `megaphone`, `microphone`

### Время:
`clock`, `calendar`, `hourglass`, `timer`

### Места:
`house`, `buildings`, `storefront`, `bank`, `hospital`

### Природа:
`sun`, `cloud`, `tree`, `flower`, `mountains`

---

## Файлы юнитов

| Юнит | Файл JSON | PDF источник |
|------|-----------|--------------|
| Unidad 1 | `data/Unidad1.json` | `SpanishUnidads/Split PDF-2 -by MaxAI.pdf` |
| Unidad 2 | `data/Unidad2.json` | Соответствующий PDF |
| Unidad 3 | `data/Unidad3.json` | Соответствующий PDF |
| ... | ... | ... |
| Unidad 10 | `data/Unidad10.json` | Соответствующий PDF |

---

## Важные замечания

1. **Код универсален** — не нужно менять app.js, только заполнять JSON

2. **Прогресс автоматический** — система сама создаст структуру прогресса для новых групп

3. **Количество слов в группе** влияет на тесты:
   - < 10 слов: Card Matching + все тесты
   - ≥ 10 слов: только ABCD и Hard тесты

4. **Порядок групп** в JSON определяет порядок отображения в меню

5. **ejercicios** — отдельная система для грамматических упражнений (не Palabras)
