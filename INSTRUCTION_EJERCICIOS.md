# Инструкция по созданию Ejercicios (Банк вопросов)

## Обзор системы

Каждый Unidad содержит несколько **ejercicios** (грамматических упражнений). Каждое ejercicio имеет:
- **Банк вопросов** — 60 вопросов для тестирования
- **Микро-тесты** — 15 вопросов с подсказками для самопроверки
- **Правило** — грамматическое объяснение темы

---

## Структура JSON файла

```json
{
  "id": "unidad_X",
  "title": "Unidad X",
  "groups": { ... },        // Лексика (не трогаем)
  "ejercicios": [           // ← Сюда добавляем упражнения
    {
      "id": "ejercicio_1",
      "title": "Название темы",
      "hint": "варианты ответов",
      "rule": { ... },
      "questions": [ ... ],     // 60 вопросов
      "microTests": [ ... ]     // 15 микро-тестов
    }
  ]
}
```

---

## Детальная структура ejercicio

### 1. Базовые поля

```json
{
  "id": "ejercicio_1",           // Уникальный ID (ejercicio_1, ejercicio_2, ...)
  "title": "Preposiciones: con, en, entre",  // Название для UI
  "hint": "con / en / entre"     // Подсказка с вариантами ответов
}
```

### 2. Правило (rule)

```json
"rule": {
  "title": "Название правила",
  "explanation": "Общее объяснение темы (1-3 предложения)",
  "sections": [
    {
      "subtitle": "Подзаголовок секции",
      "points": [
        "Пункт 1 с примером: <b>слово</b> — перевод",
        "Пункт 2",
        "Пункт 3"
      ]
    }
  ],
  "examples": [
    {"es": "Пример на испанском.", "ru": "Перевод на русский."},
    {"es": "Ещё пример.", "ru": "Ещё перевод."}
  ]
}
```

**Рекомендации:**
- 2-4 секции в `sections`
- 2-4 пункта в каждой секции
- 3-5 примеров в `examples`
- Используй `<b>...</b>` для выделения ключевых слов

### 3. Банк вопросов (questions) — 60 штук

```json
"questions": [
  {"sentence": "Estudio español ___ una academia.", "answer": "en"},
  {"sentence": "Vivo ___ mi familia.", "answer": "con"},
  // ... ещё 58 вопросов
]
```

**Требования к вопросам:**
- **Ровно 60 вопросов** в каждом ejercicio
- Формат: предложение с пропуском `___`
- `answer` — правильный ответ (точное совпадение, учитывай регистр!)
- Разнообразие контекстов и сложности
- Равномерное распределение по всем вариантам ответа

### 4. Микро-тесты (microTests) — 15 штук

```json
"microTests": [
  {
    "sentence": "Preparo la cena ___ mi madre.",
    "answer": "con",
    "hint": "С кем ты готовишь ужин?"
  },
  // ... ещё 14 микро-тестов
]
```

**Требования к микро-тестам:**
- **Ровно 15 микро-тестов** в каждом ejercicio
- Обязательное поле `hint` — подсказка на русском
- Подсказка должна направлять к правильному ответу
- Проще, чем основные вопросы (вводные)

---

## Чеклист для каждого ejercicio

- [ ] `id` — уникальный (ejercicio_1, ejercicio_2, ...)
- [ ] `title` — понятное название
- [ ] `hint` — варианты ответов через /
- [ ] `rule.title` — заголовок правила
- [ ] `rule.explanation` — общее объяснение
- [ ] `rule.sections` — 2-4 секции с пунктами
- [ ] `rule.examples` — 3-5 примеров с переводом
- [ ] `questions` — **ровно 60 вопросов**
- [ ] `microTests` — **ровно 15 микро-тестов с hint**
- [ ] Все ответы проверены на правильность
- [ ] Регистр в ответах корректен (En vs en)

---

## Типичные темы для ejercicios (по уровням)

### A2 (Unidad 1-5)
- Предлоги (con/en/entre, por/para, a/de/en)
- Артикли (el/la/los/las, un/una)
- Presente de indicativo
- Глаголы ser/estar
- Притяжательные местоимения
- Указательные местоимения
- Прошедшее время (Pretérito Indefinido)

### B1 (Unidad 6-8)
- Pretérito Imperfecto
- Contraste Indefinido/Imperfecto
- Presente de Subjuntivo
- Imperativo
- Condicional
- Futuro simple

### B2-C1 (Unidad 9-10)
- Subjuntivo в придаточных
- Согласование времён
- Perífrasis verbales
- Oraciones condicionales
- Estilo indirecto

---

## Процесс создания ejercicio

### Шаг 1: Определить тему
Выбрать грамматическую тему, подходящую для уровня юнита.

### Шаг 2: Написать правило
1. Краткое объяснение (2-3 предложения)
2. Разбить на логические секции
3. Добавить примеры с переводом

### Шаг 3: Создать 60 вопросов
1. Начать с простых контекстов
2. Постепенно усложнять
3. Покрыть все варианты ответов равномерно
4. Проверить каждый ответ

### Шаг 4: Создать 15 микро-тестов
1. Выбрать самые понятные контексты
2. Написать подсказки, направляющие к ответу
3. Покрыть все варианты ответов

### Шаг 5: Валидация
1. Проверить JSON синтаксис
2. Подсчитать количество (60 + 15)
3. Проверить уникальность ID
4. Протестировать в приложении

---

## Пример минимального ejercicio

```json
{
  "id": "ejercicio_1",
  "title": "ser vs estar",
  "hint": "ser / estar",
  "rule": {
    "title": "SER vs ESTAR: постоянное и временное",
    "explanation": "SER описывает постоянные характеристики, ESTAR — временные состояния и местоположение.",
    "sections": [
      {
        "subtitle": "SER — постоянное",
        "points": [
          "Профессия: Soy profesor",
          "Национальность: Es español",
          "Характер: Es inteligente"
        ]
      },
      {
        "subtitle": "ESTAR — временное",
        "points": [
          "Состояние: Estoy cansado",
          "Место: Estoy en casa",
          "Эмоции: Está triste"
        ]
      }
    ],
    "examples": [
      {"es": "María es alta.", "ru": "Мария высокая (всегда)."},
      {"es": "María está cansada.", "ru": "Мария уставшая (сейчас)."}
    ]
  },
  "questions": [
    {"sentence": "Yo ___ profesor de español.", "answer": "soy"},
    // ... ещё 59 вопросов
  ],
  "microTests": [
    {
      "sentence": "Mi hermano ___ médico.",
      "answer": "es",
      "hint": "Профессия — постоянная характеристика"
    },
    // ... ещё 14 микро-тестов
  ]
}
```

---

## Важные замечания

1. **JSON валидность** — проверяй запятые, кавычки, скобки
2. **60 вопросов обязательно** — система ожидает именно это число
3. **15 микро-тестов обязательно** — условие разблокировки основного теста
4. **Регистр ответов** — "En" и "en" — разные ответы!
5. **Подсказки (hint)** — должны помогать, но не давать ответ напрямую

---

## Файлы для редактирования

```
data/
├── Unidad1.json   ✅ Готов (образец)
├── Unidad2.json   → Добавить ejercicios
├── Unidad3.json   → Добавить ejercicios
├── Unidad4.json   → Добавить ejercicios
├── Unidad5.json   → Добавить ejercicios
├── Unidad6.json   → Добавить ejercicios
├── Unidad7.json   → Добавить ejercicios
├── Unidad8.json   → Добавить ejercicios
├── Unidad9.json   → Добавить ejercicios
└── Unidad10.json  → Добавить ejercicios
```
