<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Spanish Trainer A2 üá™üá∏</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/@phosphor-icons/web@2.0.3/src/regular/style.css">
    <link rel="stylesheet" href="css/Styles.css">


</head>
<body>
    <!-- Azulejos Background with Parallax -->
    <div id="azulejos-bg"></div>
    <div id="azulejos-overlay"></div>

    <div class="container">

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             START SCREEN (NEW)
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="startScreen" class="start-screen">
            <h1>üá™üá∏ Spanish Vocabulary Trainer</h1>
            <p class="subtitle">–ò–∑—É—á–∞–π—Ç–µ –∏—Å–ø–∞–Ω—Å–∫–∏–π —è–∑—ã–∫ —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º–∏</p>
            <button class="btn btn-primary" onclick="showLoginScreen()">–í–æ–π—Ç–∏</button>
			<button class="btn btn-success" onclick="showRegisterScreen()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
        </div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     LOGIN SCREEN
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="loginScreen" class="profile-create-screen hidden">
	<h1>–í—Ö–æ–¥</h1>
	<p class="subtitle">–í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç</p>

	<div class="profile-form">
		<div class="form-group">
			<label for="loginEmail">Email:</label>
			<input 
				type="email" 
				id="loginEmail" 
				placeholder="–í–≤–µ–¥–∏—Ç–µ email"
			>
		</div>
		<div class="form-group">
			<label for="loginPassword">–ü–∞—Ä–æ–ª—å:</label>
			<input 
				type="password" 
				id="loginPassword" 
				placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å"
				onkeypress="if(event.key==='Enter') loginUser()"
			>
		</div>
		<div id="loginError" class="form-error hidden"></div>

		<button class="btn btn-success" onclick="loginUser()">–í–æ–π—Ç–∏</button>
		<button class="btn btn-back" onclick="showStart()">–ù–∞–∑–∞–¥</button>
	</div>
</div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             REGISTER SCREEN
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="registerScreen" class="profile-create-screen hidden">
		<h1>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h1>
		<p class="subtitle">–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç</p>
		
		<div class="profile-form">
			<div class="form-group">
			<label for="registerEmail">Email:</label>
			<input
			type="email"
			id="registerEmail"
			placeholder="email@example.com"
			onkeypress="if(event.key==='Enter') document.getElementById('registerPassword').focus()"
			>
			</div>
			<div class="form-group">
				<label for="registerPassword">–ü–∞—Ä–æ–ª—å:</label>
				<input
				type="password"
				id="registerPassword"
				placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤"
				onkeypress="if(event.key==='Enter') registerUser()"
				>
				</div>
				<div id="loginError" class="form-error hidden"></div>
				
				<button class="btn btn-success" onclick="registerUser()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</Button>
				<button class="btn btn-back" onclick="showStart()">–ù–∞–∑–∞–¥</Button>
			</div>
		</div>
		<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
				PROFILE SELECT SCREEN
			 ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
			 <div id="profileSelectScreen" class="profile-select-screen hidden">
			 <h1>–í—ã–±–æ—Ä –ø—Ä–æ—Ñ–∏–ª—è</h1>
			 <p class="subtitute">–í—ã–±–∏—Ä–∏—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è</p>
			 
			 <div id="profileList" class = "profile-list">
			 <!-- Profiles will be rendered here -->
			 </div>
			 
			 <button class="btn btn-success" onclick="showProfileCreate()">+ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π  –ø—Ä–æ—Ñ–∏–ª—å</button>
			 <button class="btn btn-back" onclick="logout()">–í—ã–π—Ç–∏</button>

			 <!-- Profile Action Buttons (shown when profile is selected) -->
			 <div id="profileActionButtons" class="profile-action-buttons hidden">
				 <button class="btn btn-select-profile" onclick="confirmSelectProfile()">–í—ã–±—Ä–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</button>
				 <button class="btn btn-delete-profile" onclick="showDeleteConfirmModal()">–£–¥–∞–ª–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</button>
			 </div>
			 </div>

			 <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
				  DELETE CONFIRMATION MODAL
				  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
			 <div id="deleteConfirmModal" class="modal hidden">
				 <div class="modal-content">
					 <h2>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è</h2>
					 <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å?<br>–í–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç —É—Ç–µ—Ä—è–Ω.</p>
					 <div class="modal-buttons">
						 <button class="btn btn-danger" onclick="deleteSelectedProfile()">–î–∞</button>
						 <button class="btn btn-secondary" onclick="hideDeleteConfirmModal()">–ù–µ—Ç</button>
					 </div>
				 </div>
			 </div>
        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             PROFILE CREATE SCREEN (NEW)
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="profileCreateScreen" class="profile-create-screen hidden">
            <h1>–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</h1>
            <p class="subtitle">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –Ω–∏–∫–Ω–µ–π–º</p>

            <div class="profile-form">
                <div class="form-group">
                    <label for="nicknameInput">–ù–∏–∫–Ω–µ–π–º:</label>
                    <input 
                        type="text" 
                        id="nicknameInput" 
                        placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫–Ω–µ–π–º (–º–∞–∫—Å. 24 —Å–∏–º–≤–æ–ª–∞)"
                        maxlength="24"
                        onkeypress="if(event.key==='Enter') createProfileFromForm()"
                    >
                    <div id="nicknameError" class="form-error hidden"></div>
                </div>

                <button class="btn btn-success" onclick="createProfileFromForm()">OK</button>
                <button class="btn btn-back" onclick="showProfileSelect()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             USER BADGE (shown when profile is active)
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="userBadge" class="user-badge hidden">
            <span class="user-nickname" id="userNickname"></span>
            <button class="switch-profile-btn" onclick="switchProfile()">–°–º–µ–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             MAIN MENU (Unidad Selection)
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="mainMenu" class="hidden">
            <button class="btn btn-grammar" onclick="showGrammarList()">üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</button>
            <h1>Spanish Trainer A2</h1>
            <p class="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ Unidad –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏</p>

            <div style="margin-top: 30px;">
                <!-- Unidad 1 -->
                <div class="category-card" id="unidad-1-btn" onclick="showUnidadMenu('unidad_1')">
                    <div class="category-header">
                        <span class="category-title">üìö Unidad 1</span>
                        <span class="category-icon">üîì</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill" id="unidad-1-progress-bar" style="width: 0%"></div>
                    </div>
                    <p class="progress-text" id="unidad-1-progress-text">0% –∑–∞–≤–µ—Ä—à–µ–Ω–æ</p>
                </div>

                <!-- Unidad 2 -->
                <div class="category-card locked" id="unidad-2-btn" onclick="showUnidadMenu('unidad_2')">
                    <div class="category-header">
                        <span class="category-title">üìò Unidad 2</span>
                        <span class="category-icon">üîí</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill" id="unidad-2-progress-bar" style="width: 0%"></div>
                    </div>
                    <p class="progress-text" id="unidad-2-progress-text">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ - –ó–∞–≤–µ—Ä—à–∏—Ç–µ Unidad 1 (80%)</p>
                </div>

                <!-- Unidad 3 -->
                <div class="category-card locked" id="unidad-3-btn" onclick="showUnidadMenu('unidad_3')">
                    <div class="category-header">
                        <span class="category-title">üìó Unidad 3</span>
                        <span class="category-icon">üîí</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill" id="unidad-3-progress-bar" style="width: 0%"></div>
                    </div>
                    <p class="progress-text" id="unidad-3-progress-text">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ - –ó–∞–≤–µ—Ä—à–∏—Ç–µ Unidad 2 (80%)</p>
                </div>

                <!-- Unidad 4 -->
                <div class="category-card locked" id="unidad-4-btn" onclick="showUnidadMenu('unidad_4')">
                    <div class="category-header">
                        <span class="category-title">üìï Unidad 4</span>
                        <span class="category-icon">üîí</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill" id="unidad-4-progress-bar" style="width: 0%"></div>
                    </div>
                    <p class="progress-text" id="unidad-4-progress-text">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ - –ó–∞–≤–µ—Ä—à–∏—Ç–µ Unidad 3 (80%)</p>
                </div>

                <!-- Unidad 5 -->
                <div class="category-card locked" id="unidad-5-btn" onclick="showUnidadMenu('unidad_5')">
                    <div class="category-header">
                        <span class="category-title">üìô Unidad 5</span>
                        <span class="category-icon">üîí</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill" id="unidad-5-progress-bar" style="width: 0%"></div>
                    </div>
                    <p class="progress-text" id="unidad-5-progress-text">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ - –ó–∞–≤–µ—Ä—à–∏—Ç–µ Unidad 4 (80%)</p>
                </div>

                <!-- Unidad 6 -->
                <div class="category-card locked" id="unidad-6-btn" onclick="showUnidadMenu('unidad_6')">
                    <div class="category-header">
                        <span class="category-title">üìî Unidad 6</span>
                        <span class="category-icon">üîí</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill" id="unidad-6-progress-bar" style="width: 0%"></div>
                    </div>
                    <p class="progress-text" id="unidad-6-progress-text">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ - –ó–∞–≤–µ—Ä—à–∏—Ç–µ Unidad 5 (80%)</p>
                </div>

                <!-- Unidad 7 -->
                <div class="category-card locked" id="unidad-7-btn" onclick="showUnidadMenu('unidad_7')">
                    <div class="category-header">
                        <span class="category-title">üìì Unidad 7</span>
                        <span class="category-icon">üîí</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill" id="unidad-7-progress-bar" style="width: 0%"></div>
                    </div>
                    <p class="progress-text" id="unidad-7-progress-text">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ - –ó–∞–≤–µ—Ä—à–∏—Ç–µ Unidad 6 (80%)</p>
                </div>

                <!-- Unidad 8 -->
                <div class="category-card locked" id="unidad-8-btn" onclick="showUnidadMenu('unidad_8')">
                    <div class="category-header">
                        <span class="category-title">üìñ Unidad 8</span>
                        <span class="category-icon">üîí</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill" id="unidad-8-progress-bar" style="width: 0%"></div>
                    </div>
                    <p class="progress-text" id="unidad-8-progress-text">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ - –ó–∞–≤–µ—Ä—à–∏—Ç–µ Unidad 7 (80%)</p>
                </div>

                <!-- Unidad 9 -->
                <div class="category-card locked" id="unidad-9-btn" onclick="showUnidadMenu('unidad_9')">
                    <div class="category-header">
                        <span class="category-title">üìí Unidad 9</span>
                        <span class="category-icon">üîí</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill" id="unidad-9-progress-bar" style="width: 0%"></div>
                    </div>
                    <p class="progress-text" id="unidad-9-progress-text">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ - –ó–∞–≤–µ—Ä—à–∏—Ç–µ Unidad 8 (80%)</p>
                </div>

                <!-- Unidad 10 -->
                <div class="category-card locked" id="unidad-10-btn" onclick="showUnidadMenu('unidad_10')">
                    <div class="category-header">
                        <span class="category-title">üìë Unidad 10</span>
                        <span class="category-icon">üîí</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill" id="unidad-10-progress-bar" style="width: 0%"></div>
                    </div>
                    <p class="progress-text" id="unidad-10-progress-text">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ - –ó–∞–≤–µ—Ä—à–∏—Ç–µ Unidad 9 (80%)</p>
                </div>
            </div>

            <div style="margin-top: 40px;">
                <button class="btn btn-secondary" onclick="showVerbMenu()">üîÑ –ü—Ä–∞–∫—Ç–∏–∫–∞ —Å–ø—Ä—è–∂–µ–Ω–∏—è –≥–ª–∞–≥–æ–ª–æ–≤</button>
                <button class="btn btn-warning" onclick="showQADeveloperMode()">üß™ –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ QA</button>
            </div>

            <div class="footer">
                –°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –∏–∑—É—á–∞—é—â–∏—Ö –∏—Å–ø–∞–Ω—Å–∫–∏–π
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             UNIDAD MENU (Main Options)
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="unidadMenu" class="hidden">
            <button class="btn btn-grammar" onclick="showGrammarList()">üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</button>
            <h1 id="unidadTitle">Unidad 1</h1>
            <p class="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø—Ä–∞–∫—Ç–∏–∫–∏</p>

            <div style="margin-top: 30px;">
                <!-- Average Progress Bar -->
                <div style="margin-bottom: 30px; padding: 20px; background: rgba(102, 126, 234, 0.4); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.3); border-radius: 15px; color: white;">
                    <h3 style="margin: 0 0 10px 0; color: white;">üìä –°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å</h3>
                    <div style="font-size: 32px; font-weight: bold;">
                        <span id="avg-progress-text">0</span>%
                    </div>
                </div>

                <!-- Palabras Button -->
                <div class="category-card" onclick="showPalabrasMenu()">
                    <div class="category-header">
                        <span class="category-title">üìö Palabras (–°–ª–æ–≤–∞)</span>
                        <span class="category-icon">üìö</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill" id="palabras-progress-bar" style="width: 0%"></div>
                    </div>
                    <p class="progress-text" id="palabras-progress-text">0%</p>
                </div>

                <!-- Ejercicios Button -->
                <div class="category-card" onclick="showGramaticaMenu()">
                    <div class="category-header">
                        <span class="category-title">üìù Ejercicios (–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è)</span>
                        <span class="category-icon">üìù</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill" id="gramatica-progress-bar" style="width: 0%"></div>
                    </div>
                    <p class="progress-text" id="gramatica-progress-text">0%</p>
                </div>

                <!-- Exam Section -->
                <div class="exam-section">
                    <h3>üéì –≠–∫–∑–∞–º–µ–Ω</h3>
                    <p class="exam-requirement">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è</p>
                    <button class="btn btn-success" id="examBtn" onclick="showExamMenu()">
                        –ü—Ä–æ–π—Ç–∏ —ç–∫–∑–∞–º–µ–Ω
                    </button>
                </div>
            </div>

            <button class="btn btn-back" onclick="showMainMenu()">‚Üê –ù–∞–∑–∞–¥ –∫ Unidades</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             PALABRAS MENU (Group Selection)
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="palabrasMenu" class="hidden">
            <button class="btn btn-grammar" onclick="showGrammarList()">üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</button>
            <h1>üìö Palabras</h1>
            <p class="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫—É—é –≥—Ä—É–ø–ø—É</p>

            <div style="margin-top: 30px;">
                <!-- Average Progress for Palabras -->
                <div style="margin-bottom: 30px; padding: 20px; background: rgba(102, 126, 234, 0.4); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.3); border-radius: 15px; color: white;">
                    <h3 style="margin: 0 0 10px 0; color: white;">üìä –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–ª–æ–≤–∞—Ä—è</h3>
                    <div style="font-size: 28px; font-weight: bold;">
                        <span id="palabras-avg-progress-text">0</span>%
                    </div>
                </div>

                <!-- Group Cards (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∏–∑ vocabularyData.groups) -->
                <div id="groupsContainer"></div>

                <!-- Pagination Controls -->
                <div id="palabrasPagination" class="pagination-controls" style="align-items: center;">
                    <button class="btn btn-secondary" id="palabrasPrevBtn" onclick="palabrasPrevPage()" style="padding: 8px 16px; font-size: 0.9em;">‚Üê –ù–∞–∑–∞–¥</button>
                    <span id="palabrasPageIndicator" style="font-size: 0.95em;">–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1 / 1</span>
                    <button class="btn btn-secondary" id="palabrasNextBtn" onclick="palabrasNextPage()" style="padding: 8px 16px; font-size: 0.9em;">–í–ø–µ—Ä—ë–¥ ‚Üí</button>
                </div>
            </div>

            <button class="btn btn-back" onclick="backToUnidadMenu()">‚Üê –ù–∞–∑–∞–¥ –∫ —Ç–∏–ø–∞–º –ø—Ä–∞–∫—Ç–∏–∫–∏</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             GROUP PREVIEW MENU (Choose Test or Mini-Dictionary)
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="groupPreviewMenu" class="hidden">
            <button class="btn btn-grammar" onclick="showGrammarList()">üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</button>
            <h1 id="groupPreviewTitle">–ì—Ä—É–ø–ø–∞</h1>
            <p class="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ</p>

            <!-- Progress for this group -->
            <div style="margin: 20px 0; padding: 20px; background: rgba(102, 126, 234, 0.4); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.3); border-radius: 15px; color: white;">
                <h3 style="margin: 0 0 10px 0; color: white;">üìä –ü—Ä–æ–≥—Ä–µ—Å—Å –≥—Ä—É–ø–ø—ã</h3>
                <div style="font-size: 28px; font-weight: bold;">
                    <span id="group-preview-progress-text">0</span>%
                </div>
            </div>

            <!-- Action Buttons -->
            <div style="display: flex; flex-direction: row; gap: 40px; margin-top: 30px; justify-content: center;">
                <button class="btn" onclick="showMiniDictionary()" style="background: transparent; color: #2c3e50; padding: 25px; font-size: 1.4em; border: 4px solid #667eea; border-radius: 15px; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 15px; width: 160px; height: 160px; justify-content: center; font-family: 'Nunito', sans-serif;">
                    <span style="font-weight: 700;">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å<br>—Å–ª–æ–≤–∞—Ä—å</span>
                    <img src="icons/book-open.svg" alt="–°–ª–æ–≤–∞—Ä—å" style="width: 48px; height: 48px; opacity: 0.8;">
                </button>
                <button id="groupTestBtn" class="btn" onclick="proceedToTest()" style="background: transparent; color: #2c3e50; padding: 25px; font-size: 1.4em; border: 4px solid #27ae60; border-radius: 15px; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 15px; width: 160px; height: 160px; justify-content: center; font-family: 'Nunito', sans-serif;">
                    <span id="groupTestBtnLabel" style="font-weight: 700;">–ü—Ä–æ–π—Ç–∏<br>—Ç–µ—Å—Ç</span>
                    <img src="icons/exam.svg" alt="–¢–µ—Å—Ç" style="width: 48px; height: 48px; opacity: 0.8;">
                </button>
            </div>

            <!-- –ü–æ–¥—Å–∫–∞–∑–∫–∞ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–ª–æ–≤–∞—Ä—è -->
            <div id="groupTestHint" class="hidden" style="margin-top: 15px; padding: 12px 20px; background: rgba(243, 156, 18, 0.3); border: 1px solid rgba(243, 156, 18, 0.5); border-radius: 10px; text-align: center;">
                <span style="color: #f39c12; font-weight: 600;">üîí –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–ª–æ–≤–∞—Ä—å –¥–æ –∫–æ–Ω—Ü–∞</span>
            </div>

            <button class="btn btn-back" onclick="showPalabrasMenu()" style="margin-top: 30px;">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             MINI-DICTIONARY SCREEN (Mode B - Full List)
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="miniDictionaryScreen" class="hidden">
            <button class="btn btn-grammar" onclick="showGrammarList()">üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</button>
            <h1 id="miniDictTitle">üìñ –ú–∏–Ω–∏-–°–ª–æ–≤–∞—Ä—å</h1>
            <p class="subtitle" id="miniDictSubtitle">–°–ª–æ–≤–∞ –≥—Ä—É–ø–ø—ã</p>
            <p class="subtitle" id="miniDictPageInfo" style="font-size: 0.9em; color: #7f8c8d;">–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1 –∏–∑ 3</p>

            <!-- Words list container - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ –≤—ã—Å–æ—Ç–æ–π –¥–ª—è ~3 —Å–ª–æ–≤ –≤–∏–¥–∏–º—ã—Ö, —Å–∫—Ä–æ–ª–ª –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö -->
            <div id="miniDictWordsContainer" style="margin-top: 15px; max-height: 52vh; overflow-y: auto;">
                <!-- Words will be rendered here -->
            </div>

            <!-- "–°–ª–æ–≤–∞—Ä—å –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω" –±–ª–æ–∫ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ—Å–ª–µ —Å–∫—Ä–æ–ª–ª–∞ -->
            <div id="miniDictGoToTestBlock" class="hidden" style="
                background: rgba(39, 174, 96, 0.3);
                border: 1px solid rgba(39, 174, 96, 0.5);
                border-radius: 12px;
                padding: 20px;
                text-align: center;
                margin-top: 15px;
            ">
                <span style="font-size: 2em;">‚úÖ</span>
                <p style="color: #27ae60; font-weight: 600; margin: 10px 0; font-size: 1.1em;">
                    –°–ª–æ–≤–∞—Ä—å –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω!
                </p>
                <button class="btn btn-success" onclick="goToTestFromDictionary()" style="
                    background: linear-gradient(135deg, #27ae60, #2ecc71);
                    color: white;
                    border: none;
                    padding: 12px 30px;
                    border-radius: 10px;
                    font-size: 1.1em;
                    font-weight: 600;
                    cursor: pointer;
                    margin-top: 10px;
                ">
                    –ü–µ—Ä–µ–π—Ç–∏ –∫ —Ç–µ—Å—Ç—É ‚Üí
                </button>
            </div>

            <!-- Pagination buttons -->
            <div id="miniDictPagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; gap: 15px;">
                <button class="btn btn-back" onclick="backToGroupPreview()">‚Üê –ù–∞–∑–∞–¥ –∫ –≥—Ä—É–ø–ø–µ</button>
                <button id="miniDictPrevBtn" class="btn btn-secondary hidden" onclick="prevMiniDictPage()">‚Üê –ù–∞–∑–∞–¥</button>
                <button id="miniDictNextBtn" class="btn btn-primary" onclick="nextMiniDictPage()">–î–∞–ª—å—à–µ ‚Üí</button>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             CATEGORY MENU (Level Selection)
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="categoryMenu" class="hidden">
            <button class="btn btn-grammar" onclick="showGrammarList()">üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</button>
            <h1 id="categoryTitle">Sustantivos</h1>
            <p class="subtitle" id="categorySubtitle">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤</p>

            <!-- Average Progress for this category -->
            <div style="margin: 20px 0; padding: 20px; background: rgba(102, 126, 234, 0.4); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.3); border-radius: 15px; color: white;">
                <h3 style="margin: 0 0 10px 0; color: white;">üìä –ü—Ä–æ–≥—Ä–µ—Å—Å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h3>
                <div style="font-size: 28px; font-weight: bold;">
                    <span id="category-avg-progress-text">0</span>%
                </div>
            </div>

            <!-- Card Matching Game (for groups <10 words) -->
            <div id="cardMatchingSection" class="level-section hidden" style="background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%); border-left: 5px solid #667eea; padding: 20px; border-radius: 10px; margin: 15px 0;">
                <h3 style="color: #667eea; margin-bottom: 15px;">üÉè Card Matching Game</h3>
                <p style="color: #555; margin-bottom: 15px;">–≠—Ç–∞ –≥—Ä—É–ø–ø–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞–ª–æ —Å–ª–æ–≤, –ø–æ—ç—Ç–æ–º—É –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ —Ñ–æ—Ä–º–∞—Ç Card Matching Game</p>
                <button class="level-btn" id="card-matching-btn" onclick="startCardMatchingGame()" style="width: 100%; background: rgba(102, 126, 234, 0.4); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.3); color: white; padding: 20px; font-size: 1.1em;">
                    <span class="level-btn-label">üÉè –ù–∞—á–∞—Ç—å Card Matching</span>
                    <span class="level-btn-progress" id="card-matching-progress">–õ—É—á—à–∏–π: 0%</span>
                </button>
            </div>

            <!-- ABCD Test Levels (for groups ‚â•10 words) -->
            <div id="abcdTestsSection">
                <!-- Easy Level -->
                <div class="level-section" style="background: rgba(39, 174, 96, 0.25); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(39, 174, 96, 0.4); border-left: 5px solid #27ae60; padding: 20px; border-radius: 10px; margin: 15px 0;">
                    <h3 style="color: #2c3e50; margin-bottom: 10px;">üü¢ –õ—ë–≥–∫–∏–π —É—Ä–æ–≤–µ–Ω—å (ES‚ÜíRU, ABCD)</h3>
                    <div class="progress-bar-container" style="margin-bottom: 15px;">
                        <div class="progress-bar-fill" id="easy-progress-bar" style="width: 0%; background: #27ae60;"></div>
                    </div>
                    <p style="margin: 5px 0; color: #2c3e50; font-weight: 600;" id="easy-progress-text">0%</p>
                    <button class="level-btn" id="easy-btn" onclick="startTest('easy')" style="width: 100%; background: rgba(39, 174, 96, 0.4); color: #2c3e50; border: 2px solid #fff; border-radius: 10px; padding: 15px; font-size: 1.1em; margin-top: 10px;">
                        <span class="level-btn-label">–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç</span>
                    </button>
                </div>

                <!-- Medium Level -->
                <div class="level-section" style="background: rgba(243, 156, 18, 0.25); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(243, 156, 18, 0.4); border-left: 5px solid #f39c12; padding: 20px; border-radius: 10px; margin: 15px 0;">
                    <h3 style="color: #2c3e50; margin-bottom: 10px;">üü° –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å (RU‚ÜíES, ABCD)</h3>
                    <div class="progress-bar-container" style="margin-bottom: 15px;">
                        <div class="progress-bar-fill" id="medium-progress-bar" style="width: 0%; background: #27ae60;"></div>
                    </div>
                    <p style="margin: 5px 0; color: #2c3e50; font-weight: 600;" id="medium-progress-text">0%</p>
                    <button class="level-btn" id="medium-btn" onclick="startTest('medium')" style="width: 100%; background: rgba(243, 156, 18, 0.4); color: #2c3e50; border: 2px solid #fff; border-radius: 10px; padding: 15px; font-size: 1.1em; margin-top: 10px;" disabled>
                        <span class="level-btn-label">üîí –¢—Ä–µ–±—É–µ—Ç—Å—è 80% –Ω–∞ –õ—ë–≥–∫–∏–π</span>
                    </button>
                </div>

                <!-- Hard Level -->
                <div class="level-section" style="background: rgba(231, 76, 60, 0.25); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(231, 76, 60, 0.4); border-left: 5px solid #e74c3c; padding: 20px; border-radius: 10px; margin: 15px 0;">
                    <h3 style="color: #2c3e50; margin-bottom: 10px;">üî¥ –°–ª–æ–∂–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å (RU‚ÜíES, –í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞)</h3>
                    <div class="progress-bar-container" style="margin-bottom: 15px;">
                        <div class="progress-bar-fill" id="hard-progress-bar" style="width: 0%; background: #27ae60;"></div>
                    </div>
                    <p style="margin: 5px 0; color: #2c3e50; font-weight: 600;" id="hard-progress-text">0%</p>
                    <button class="level-btn" id="hard-btn" onclick="startTest('hard')" style="width: 100%; background: rgba(231, 76, 60, 0.4); color: #2c3e50; border: 2px solid #fff; border-radius: 10px; padding: 15px; font-size: 1.1em; margin-top: 10px;" disabled>
                        <span class="level-btn-label">üîí –¢—Ä–µ–±—É–µ—Ç—Å—è 80% –Ω–∞ –°—Ä–µ–¥–Ω–∏–π</span>
                    </button>
                </div>
            </div>
            <!-- End of abcdTestsSection -->

            <button class="btn btn-back" onclick="showPalabrasMenu()">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             GRAM√ÅTICA MENU (Exercise Selection with Pagination)
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="gramaticaMenu" class="hidden">
            <button class="btn btn-grammar" onclick="showGrammarList()">üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</button>
            <h1>üìù Ejercicios</h1>
            <p class="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏</p>

            <!-- Average Progress for Grammar -->
            <div style="margin: 20px 0; padding: 20px; background: rgba(102, 126, 234, 0.4); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.3); border-radius: 15px; color: white;">
                <h3 style="margin: 0 0 10px 0; color: white;">üìä –ü—Ä–æ–≥—Ä–µ—Å—Å –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏</h3>
                <div style="font-size: 28px; font-weight: bold;">
                    <span id="gramatica-avg-progress-text">0</span>%
                </div>
            </div>

            <!-- Exercises Grid (4 per page) -->
            <div id="gramaticaExercisesContainer" style="margin-top: 20px;">
                <!-- Exercises will be rendered dynamically -->
            </div>

            <!-- Pagination Controls -->
            <div id="gramaticaPagination" style="display: flex; justify-content: center; align-items: center; gap: 15px; margin-top: 20px;">
                <button class="btn btn-secondary" id="gramPrevBtn" onclick="gramaticaPrevPage()" style="padding: 8px 16px; font-size: 0.9em;">‚Üê –ù–∞–∑–∞–¥</button>
                <span id="gramPageIndicator" style="font-size: 0.95em;">–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1 / 1</span>
                <button class="btn btn-secondary" id="gramNextBtn" onclick="gramaticaNextPage()" style="padding: 8px 16px; font-size: 0.9em;">–í–ø–µ—Ä—ë–¥ ‚Üí</button>
            </div>

            <button class="btn btn-back" onclick="backToUnidadMenu()" style="margin-top: 20px;">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             EXERCISE PREVIEW MENU (–∞–Ω–∞–ª–æ–≥ groupPreviewMenu –¥–ª—è Palabras)
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="exercisePreviewMenu" class="hidden">
            <button class="btn btn-grammar" onclick="showGrammarList()">üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</button>
            <h1 id="exercisePreviewTitle">–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</h1>
            <p class="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ</p>

            <!-- Progress for this exercise -->
            <div style="margin: 20px 0; padding: 20px; background: rgba(102, 126, 234, 0.4); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.3); border-radius: 15px; color: white;">
                <div style="margin-bottom: 15px;">
                    <h3 style="margin: 0 0 8px 0; color: white; font-size: 1em;">üìä –ü—Ä–æ–≥—Ä–µ—Å—Å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è</h3>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <div style="flex: 1; height: 8px; background: rgba(255,255,255,0.3); border-radius: 4px; overflow: hidden;">
                            <div id="exercise-preview-progress-bar" style="height: 100%; background: linear-gradient(90deg, #27ae60, #2ecc71); width: 0%; transition: width 0.3s;"></div>
                        </div>
                        <span id="exercise-preview-progress-text" style="font-size: 1em; min-width: 45px;">0%</span>
                    </div>
                </div>
                <div>
                    <h3 style="margin: 0 0 8px 0; color: white; font-size: 1em;">üìö –û—Å–≤–æ–µ–Ω–∏–µ –±–∞–Ω–∫–∞</h3>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <div style="flex: 1; height: 8px; background: rgba(255,255,255,0.3); border-radius: 4px; overflow: hidden;">
                            <div id="exercise-bank-mastery-bar" style="height: 100%; background: linear-gradient(90deg, #9b59b6, #8e44ad); width: 0%; transition: width 0.3s;"></div>
                        </div>
                        <span id="exercise-bank-mastery-text" style="font-size: 1em; min-width: 45px;">0%</span>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div style="display: flex; flex-direction: row; gap: 40px; margin-top: 30px; justify-content: center; flex-wrap: wrap;">
                <button class="btn" onclick="showGrammarRule()" style="background: transparent; color: #2c3e50; padding: 25px; font-size: 1.4em; border: 4px solid #667eea; border-radius: 15px; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 15px; width: 160px; height: 160px; justify-content: center; font-family: 'Nunito', sans-serif;">
                    <span style="font-weight: 700;">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å<br>–ø—Ä–∞–≤–∏–ª–æ</span>
                    <img src="icons/book-open-text.svg" alt="–ü—Ä–∞–≤–∏–ª–æ" style="width: 48px; height: 48px; opacity: 0.8;">
                </button>
                <button id="exerciseTestBtn" class="btn" onclick="proceedToExercise()" style="background: transparent; color: #2c3e50; padding: 25px; font-size: 1.4em; border: 4px solid #27ae60; border-radius: 15px; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 15px; width: 160px; height: 160px; justify-content: center; font-family: 'Nunito', sans-serif;">
                    <span id="exerciseTestBtnLabel" style="font-weight: 700;">–ü—Ä–æ–π—Ç–∏<br>—Ç–µ—Å—Ç</span>
                    <img src="icons/exam.svg" alt="–¢–µ—Å—Ç" style="width: 48px; height: 48px; opacity: 0.8;">
                </button>
                <button id="fullTestBtn" class="btn" onclick="startFullTest()" style="background: transparent; color: #2c3e50; padding: 25px; font-size: 1.4em; border: 4px solid #9b59b6; border-radius: 15px; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 15px; width: 160px; height: 160px; justify-content: center; font-family: 'Nunito', sans-serif;">
                    <span id="fullTestBtnLabel" style="font-weight: 700;">–ü–æ–ª–Ω—ã–π<br>—Ç–µ—Å—Ç</span>
                    <img src="icons/trophy.svg" alt="–ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç" style="width: 48px; height: 48px; opacity: 0.8;">
                </button>
            </div>

            <!-- Repetition Toggle -->
            <div id="repetitionToggleBlock" style="margin-top: 20px; display: flex; align-items: center; justify-content: center; gap: 10px;">
                <span style="color: #2c3e50; font-weight: 600;">–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ</span>
                <label style="position: relative; display: inline-block; width: 50px; height: 26px; cursor: pointer;">
                    <input type="checkbox" id="repetitionToggle" checked style="opacity: 0; width: 0; height: 0;">
                    <span id="repetitionToggleBg" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-color: #27ae60; border-radius: 26px; transition: 0.3s;"></span>
                    <span id="repetitionToggleSlider" style="position: absolute; height: 20px; width: 20px; left: 27px; bottom: 3px; background-color: white; border-radius: 50%; transition: 0.3s;"></span>
                </label>
                <span id="repetitionToggleLabel" style="color: #27ae60; font-weight: 600; min-width: 40px;">–í–ö–õ</span>
            </div>

            <!-- –ü–æ–¥—Å–∫–∞–∑–∫–∞ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –º–∏–∫—Ä–æ-—Ç–µ—Å—Ç–æ–≤ -->
            <div id="exerciseTestHint" class="hidden" style="margin-top: 15px; padding: 12px 20px; background: rgba(243, 156, 18, 0.3); border: 1px solid rgba(243, 156, 18, 0.5); border-radius: 10px; text-align: center;">
                <span style="color: #f39c12; font-weight: 600;">üîí –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–π–¥–∏—Ç–µ –≤—Å–µ –º–∏–∫—Ä–æ-—Ç–µ—Å—Ç—ã –≤ —Ä–∞–∑–¥–µ–ª–µ "–ü—Ä–æ–≤–µ—Ä—å —Å–µ–±—è"</span>
            </div>

            <button class="btn btn-back" onclick="showGramaticaMenu(true)" style="margin-top: 30px;">‚Üê –ù–∞–∑–∞–¥ –∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             GRAMMAR RULE SCREEN (–∞–Ω–∞–ª–æ–≥ miniDictionaryScreen –¥–ª—è Palabras)
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="grammarRuleScreen" class="hidden">
            <button class="btn btn-grammar" onclick="showGrammarList()">üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</button>
            <h1 id="grammarRuleTitle">üìñ –ü—Ä–∞–≤–∏–ª–æ</h1>
            <p class="subtitle" id="grammarRuleSubtitle">–ì—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∞–≤–∏–ª–æ</p>

            <!-- Rule Content Container -->
            <div id="grammarRuleContainer" style="margin-top: 20px;">
                <!-- Rule content will be rendered dynamically -->
            </div>

            <div style="display: flex; gap: 15px; margin-top: 30px; justify-content: center; flex-wrap: wrap;">
                <button class="btn btn-back" onclick="backToExercisePreview()">‚Üê –ù–∞–∑–∞–¥</button>
                <button id="microTestsBtn" class="btn btn-primary" onclick="showMicroTestsScreen()" style="background: linear-gradient(135deg, #9b59b6, #8e44ad);">üß™ –ü—Ä–æ–≤–µ—Ä—å —Å–µ–±—è</button>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             MICRO TESTS SCREEN
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="microTestsScreen" class="hidden">
            <h1 style="color: #9b59b6;">üß™ –ü—Ä–æ–≤–µ—Ä—å —Å–µ–±—è</h1>
            <p class="subtitle" id="microTestsSubtitle">–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</p>

            <div id="microTestsProgressBlock" style="
                color: #9b59b6;
                font-size: 1em;
                margin: 15px 0;
                font-weight: 600;
                text-align: center;
            ">
                –í—ã–ø–æ–ª–Ω–µ–Ω–æ: <span id="microTestsCompleted">0</span> / <span id="microTestsTotal">0</span>
            </div>

            <!-- Micro Tests Container -->
            <div id="microTestsContainer" style="margin-top: 20px;">
                <!-- Micro tests will be rendered dynamically -->
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥ –∫ –ø—Ä–∞–≤–∏–ª—É" -->
            <div style="margin-top: 30px;">
                <button class="btn btn-back" onclick="backToGrammarRule()">‚Üê –ù–∞–∑–∞–¥ –∫ –ø—Ä–∞–≤–∏–ª—É</button>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             GRAM√ÅTICA QUESTION SCREEN
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="gramaticaQuestionScreen" class="question-container hidden hide-grammar-btn">
            <button class="btn btn-grammar" onclick="showGrammarList()">üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</button>
            <div class="progress" id="gramQuestionProgress">–í–æ–ø—Ä–æ—Å 1 –∏–∑ 15</div>
            <div class="timer-text" id="gramTimerText">10</div>
            <div class="timer-container">
                <div class="timer-bar" id="gramTimerBar"></div>
            </div>

            <div style="display: none; text-align: center; margin-bottom: 10px; color: #7f8c8d; font-size: 0.9em;" id="gramHintText">
                –ü–æ–¥—Å–∫–∞–∑–∫–∞: con / en / entre
            </div>

            <div class="question-text" id="gramQuestionText">Estudio espa√±ol ___ una academia.</div>

            <!-- Manual Input for Grammar -->
            <div id="gramInputContainer">
                <input
                    type="text"
                    class="answer-input"
                    id="gramInput"
                    placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –æ—Ç–≤–µ—Ç..."
                    onkeypress="if(event.key==='Enter') submitGramAnswer()"
                    autocomplete="off"
                    autocapitalize="none"
                >
                <button class="btn btn-primary" onclick="submitGramAnswer()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-back" onclick="exitGramTest()">‚Üê –í—ã–π—Ç–∏ –∏–∑ —Ç–µ—Å—Ç–∞</button>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             GRAM√ÅTICA RESULTS SCREEN
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="gramaticaResultsScreen" class="results hidden">
            <button class="btn btn-grammar" onclick="showGrammarList()">üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</button>
            <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è</h2>
            <div class="stats" id="gramResultsStats">–í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞ 12 –∏–∑ 15!</div>
            <div class="grade" id="gramResultsGrade">–û—Ç–ª–∏—á–Ω–æ! üéâ</div>
            <div id="gramRetryMessage" class="hidden" style="margin: 15px 0; padding: 15px; background: #fff3cd; border-radius: 10px; color: #856404;">
                –î–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç—Ä–µ–±—É–µ—Ç—Å—è 80%. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑!
            </div>
            <div class="result-buttons-row">
                <button class="result-btn result-btn-menu" onclick="showGramaticaMenu(true)">–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>
                <button class="result-btn result-btn-retry" onclick="retryGramTest()">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                <button class="result-btn result-btn-continue" id="nextGramTestBtn" onclick="goToNextExerciseSmart()">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             QUESTION SCREEN
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="questionScreen" class="question-container hidden hide-grammar-btn">
            <button class="btn btn-grammar" onclick="showGrammarList()">üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</button>
            <div class="progress" id="questionProgress">–í–æ–ø—Ä–æ—Å 1 –∏–∑ 10</div>
			<div class="timer-text" id="timerText">10</div>
			<div class="timer-container">
			<div class="timer-bar" id="timerBar"></div>
			</div>
            <div style="text-align: center; margin-bottom: 20px;">
                <div id="questionIcon" style="font-size: 64px; margin-bottom: 15px;"></div>
                <div class="question-text" id="questionText">palabra</div>
            </div>

            <!-- Multiple Choice Options -->
            <div id="multipleChoiceOptions" class="options hidden">
                <button class="btn option-btn" onclick="selectAnswer(0)">–í–∞—Ä–∏–∞–Ω—Ç 1</button>
                <button class="btn option-btn" onclick="selectAnswer(1)">–í–∞—Ä–∏–∞–Ω—Ç 2</button>
                <button class="btn option-btn" onclick="selectAnswer(2)">–í–∞—Ä–∏–∞–Ω—Ç 3</button>
                <button class="btn option-btn" onclick="selectAnswer(3)">–í–∞—Ä–∏–∞–Ω—Ç 4</button>
            </div>

            <!-- Manual Input -->
            <div id="manualInputContainer" class="hidden">
                <input 
                    type="text" 
                    class="answer-input" 
                    id="manualInput" 
                    placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –æ—Ç–≤–µ—Ç..."
                    onkeypress="if(event.key==='Enter') submitManualAnswer()"
                >
                <button class="btn btn-primary" onclick="submitManualAnswer()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>

            <div style="display: flex; justify-content: space-between; margin-top: 30px;">
                <button class="btn btn-back" onclick="exitTest()">‚Üê –ù–∞–∑–∞–¥ –∫ –≤—ã–±–æ—Ä—É —Ç–µ—Å—Ç–∞</button>
                <button class="btn btn-back" onclick="skipQuestion()" style="background: rgba(149, 165, 166, 0.6);">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å ‚Üí</button>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             HARD TEST ALL QUESTIONS SCREEN (–¥–ª—è –≥—Ä—É–ø–ø > 10 —Å–ª–æ–≤)
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="hardTestAllQuestionsScreen" class="question-container hidden hide-grammar-btn">
            <button class="btn btn-grammar" onclick="showGrammarList()">üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</button>

            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –≥—Ä—É–ø–ø—ã -->
            <h2 id="hardTestGroupTitle" style="
                color: #667eea;
                text-align: center;
                margin-bottom: 10px;
                font-size: 1.5em;
            ">–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã</h2>

            <p style="text-align: center; color: rgba(255,255,255,0.8); margin-bottom: 20px;">
                üìù –í–ø–∏—à–∏—Ç–µ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
            </p>

            <!-- –û–±—â–∏–π —Ç–∞–π–º–µ—Ä -->
            <div style="
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 15px;
                margin-bottom: 15px;
            ">
                <span style="color: rgba(255,255,255,0.7); font-size: 1.1em;">‚è± –û—Å—Ç–∞–ª–æ—Å—å –≤—Ä–µ–º–µ–Ω–∏:</span>
                <span id="hardTestGlobalTimer" style="
                    font-size: 1.8em;
                    font-weight: bold;
                    color: #27ae60;
                    min-width: 80px;
                    text-align: center;
                ">6:00</span>
            </div>

            <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —Ç–∞–π–º–µ—Ä–∞ -->
            <div style="
                width: 100%;
                max-width: 500px;
                height: 8px;
                background: rgba(255,255,255,0.2);
                border-radius: 4px;
                margin: 0 auto 20px auto;
                overflow: hidden;
            ">
                <div id="hardTestTimerBar" style="
                    width: 100%;
                    height: 100%;
                    background: linear-gradient(90deg, #27ae60, #2ecc71);
                    border-radius: 4px;
                    transition: width 0.5s linear;
                "></div>
            </div>

            <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
            <div style="text-align: center; margin-bottom: 20px;">
                <span id="hardTestPageIndicator" style="
                    background: rgba(102, 126, 234, 0.4);
                    padding: 8px 20px;
                    border-radius: 20px;
                    color: white;
                    font-weight: 600;
                ">–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1 –∏–∑ 4</span>
            </div>

            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π (5 –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É) -->
            <div id="hardTestQuestionsContainer" style="
                display: flex;
                flex-direction: column;
                gap: 15px;
                margin-bottom: 25px;
            ">
                <!-- –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –±—É–¥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>

            <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ -->
            <div style="
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 20px;
                margin-bottom: 20px;
            ">
                <button id="hardTestPrevBtn" onclick="hardTestPrevPage()" class="btn btn-back" style="
                    padding: 10px 25px;
                    opacity: 0.5;
                " disabled>
                    ‚Üê –ù–∞–∑–∞–¥
                </button>

                <span id="hardTestPageNumbers" style="
                    color: rgba(255,255,255,0.8);
                    font-size: 1.1em;
                ">1 / 4</span>

                <button id="hardTestNextBtn" onclick="hardTestNextPage()" class="btn btn-back" style="
                    padding: 10px 25px;
                    background: rgba(102, 126, 234, 0.5);
                ">
                    –î–∞–ª–µ–µ ‚Üí
                </button>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ –û—Ç–ø—Ä–∞–≤–∏—Ç—å -->
            <div style="text-align: center; margin-top: 20px;">
                <button id="hardTestSubmitBtn" onclick="hardTestSubmit()" style="
                    padding: 15px 50px;
                    background: linear-gradient(135deg, #27ae60, #2ecc71);
                    color: white;
                    border: none;
                    border-radius: 12px;
                    font-size: 1.3em;
                    font-weight: 600;
                    cursor: pointer;
                    box-shadow: 0 4px 15px rgba(39, 174, 96, 0.4);
                    transition: all 0.3s;
                ">
                    ‚úì –û—Ç–ø—Ä–∞–≤–∏—Ç—å
                </button>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞ -->
            <div style="text-align: center; margin-top: 20px;">
                <button class="btn btn-back" onclick="exitHardTest()" style="opacity: 0.7;">
                    ‚Üê –í—ã–π—Ç–∏ –∏–∑ —Ç–µ—Å—Ç–∞
                </button>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             HARD TEST CONFIRM MODAL
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="hardTestConfirmModal" class="hidden" style="
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        ">
            <div style="
                background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(240,240,255,0.95));
                border-radius: 20px;
                padding: 40px;
                max-width: 400px;
                text-align: center;
                box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            ">
                <h2 style="color: #2c3e50; margin-bottom: 20px; font-size: 1.4em;">
                    –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç?
                </h2>
                <div style="display: flex; gap: 15px; justify-content: center; margin-top: 30px;">
                    <button onclick="hardTestConfirmYes()" style="
                        padding: 12px 40px;
                        background: linear-gradient(135deg, #27ae60, #2ecc71);
                        color: white;
                        border: none;
                        border-radius: 10px;
                        font-size: 1.1em;
                        font-weight: 600;
                        cursor: pointer;
                    ">–î–∞</button>
                    <button onclick="hardTestConfirmNo()" style="
                        padding: 12px 40px;
                        background: linear-gradient(135deg, #95a5a6, #7f8c8d);
                        color: white;
                        border: none;
                        border-radius: 10px;
                        font-size: 1.1em;
                        font-weight: 600;
                        cursor: pointer;
                    ">–ù–µ—Ç</button>
                </div>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             HARD TEST RESULTS SCREEN
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="hardTestResultsScreen" class="question-container hidden hide-grammar-btn" style="max-width: 900px;">
            <button class="btn btn-grammar" onclick="showGrammarList()">üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</button>

            <!-- –°—Ç–∞—Ç—É—Å: –ó–ê–ß–Å–¢ / –ù–ï –ó–ê–ß–Å–¢ -->
            <div id="hardTestResultStatus" style="
                text-align: center;
                font-size: 2.5em;
                font-weight: bold;
                margin: 20px 0;
            ">‚úÖ –ó–ê–ß–Å–¢!</div>

            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div style="
                display: flex;
                justify-content: center;
                gap: 40px;
                margin: 20px 0;
                flex-wrap: wrap;
            ">
                <div style="text-align: center;">
                    <div style="font-size: 2.5em; font-weight: bold; color: #27ae60;" id="hardTestResultCorrect">15</div>
                    <div style="color: rgba(255,255,255,0.8);">–ü—Ä–∞–≤–∏–ª—å–Ω–æ</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2.5em; font-weight: bold; color: #e74c3c;" id="hardTestResultWrong">3</div>
                    <div style="color: rgba(255,255,255,0.8);">–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2.5em; font-weight: bold; color: #667eea;" id="hardTestResultPercent">83%</div>
                    <div style="color: rgba(255,255,255,0.8);">–†–µ–∑—É–ª—å—Ç–∞—Ç</div>
                </div>
            </div>

            <div style="text-align: center; color: rgba(255,255,255,0.7); margin-bottom: 20px;">
                –ú–∏–Ω–∏–º—É–º –¥–ª—è –∑–∞—á—ë—Ç–∞: 80%
            </div>

            <!-- –°–ø–∏—Å–æ–∫ –æ—Ç–≤–µ—Ç–æ–≤ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π -->
            <div id="hardTestResultDetails" style="
                max-height: 400px;
                overflow-y: auto;
                margin: 20px 0;
            ">
                <!-- –î–µ—Ç–∞–ª–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>

            <!-- –ö–Ω–æ–ø–∫–∏ -->
            <div style="display: flex; gap: 15px; justify-content: center; margin-top: 30px; flex-wrap: wrap;">
                <button onclick="retryHardTest()" style="
                    padding: 14px 30px;
                    background: linear-gradient(135deg, #3498db, #2980b9);
                    color: white;
                    border: none;
                    border-radius: 10px;
                    font-size: 1.1em;
                    font-weight: 600;
                    cursor: pointer;
                ">üîÑ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                <button onclick="backToCategoryFromHardTest()" style="
                    padding: 14px 30px;
                    background: linear-gradient(135deg, #95a5a6, #7f8c8d);
                    color: white;
                    border: none;
                    border-radius: 10px;
                    font-size: 1.1em;
                    font-weight: 600;
                    cursor: pointer;
                ">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</button>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             RESULTS SCREEN
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="resultsScreen" class="results hidden">
            <button class="btn btn-grammar" onclick="showGrammarList()">üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</button>
            <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞</h2>
            <div class="stats" id="resultsStats">–í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞ 8 –∏–∑ 10!</div>
            <div class="grade" id="resultsGrade">–û—Ç–ª–∏—á–Ω–æ! üéâ</div>
            <div style="margin: 30px 0;">
                <button class="btn btn-primary" onclick="retryTest()">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Ç–µ—Å—Ç</button>
                <button class="btn btn-success" id="nextTestBtnResults" onclick="goToNextTest()" style="display: none;">–°–ª–µ–¥—É—é—â–∏–π —Ç–µ—Å—Ç ‚Üí</button>
                <button class="btn btn-secondary" onclick="backToUnidadMenu()">–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             CARD MATCHING GAME SCREEN
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="cardMatchingScreen" class="question-container hidden hide-grammar-btn">
            <button class="btn btn-grammar" onclick="showGrammarList()">üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</button>
            <h1 id="cardMatchingTitle">üÉè Card Matching Game</h1>
            <p class="subtitle" id="cardMatchingSubtitle">–°–æ–ø–æ—Å—Ç–∞–≤—å—Ç–µ –ø–∞—Ä—ã: —Ä—É—Å—Å–∫–æ–µ —Å–ª–æ–≤–æ ‚Üî –∏—Å–ø–∞–Ω—Å–∫–æ–µ —Å–ª–æ–≤–æ</p>

            <!-- Instructions -->
            <div style="margin: 20px auto; padding: 15px; background: rgba(102, 126, 234, 0.3); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.3); border-radius: 10px; max-width: 700px; text-align: center;">
                <p style="margin: 0; color: #fff; font-weight: 600;">
                    üìå –í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ–≤–æ —Å–ª–µ–≤–∞ (üá∑üá∫), –∑–∞—Ç–µ–º —Å–ª–æ–≤–æ —Å–ø—Ä–∞–≤–∞ (üá™üá∏). –ö–∞—Ä—Ç—ã –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç—Å—è –∏ –ø–æ–∫–∞–∂—É—Ç –∏–∫–æ–Ω–∫–∏!
                </p>
            </div>

            <!-- Two Column Layout for Pair Matching -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin: 30px auto; max-width: 900px;">
                <!-- LEFT Column (Russian) -->
                <div>
                    <h3 style="text-align: center; color: #667eea; margin-bottom: 20px;">üá∑üá∫ –†—É—Å—Å–∫–∏–π</h3>
                    <div id="leftColumn" style="display: flex; flex-direction: column;">
                        <!-- Russian cards generated here -->
                    </div>
                </div>

                <!-- RIGHT Column (Spanish + decoys) -->
                <div>
                    <h3 style="text-align: center; color: #667eea; margin-bottom: 20px;">üá™üá∏ Espa√±ol</h3>
                    <div id="rightColumn" style="display: flex; flex-direction: column;">
                        <!-- Spanish cards generated here -->
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-back" onclick="exitCardMatching()">‚Üê –ù–∞–∑–∞–¥ –∫ –º–µ–Ω—é</button>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             CARD MATCHING RESULTS SCREEN
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="cardMatchingResultsScreen" class="results hidden">
            <button class="btn btn-grammar" onclick="showGrammarList()">üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</button>
            <h2 id="cardMatchingResultTitle">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã Card Matching</h2>
            <div class="stats" id="cardMatchingStats">–í—ã –≤—ã–±—Ä–∞–ª–∏ –≤—Å–µ —Å–ª–æ–≤–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!</div>
            <div class="grade" id="cardMatchingGrade">–û—Ç–ª–∏—á–Ω–æ! üéâ</div>

            <!-- Detailed breakdown -->
            <div id="cardMatchingBreakdown" style="margin: 30px auto; max-width: 600px; text-align: left;">
                <!-- Will show which cards were correct/incorrect -->
            </div>

            <div class="result-buttons-row">
                <button class="result-btn result-btn-menu" onclick="backToUnidadMenu()">–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>
                <button class="result-btn result-btn-retry" onclick="retryCardMatching()">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                <button class="result-btn result-btn-continue" id="nextTestBtn" onclick="goToNextTestSmart()">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             VERB CONJUGATION MENU
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="verbMenu" class="verb-menu hidden">
            <button class="btn btn-grammar" onclick="showGrammarList()">üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</button>
            <h1>üîÑ –ü—Ä–∞–∫—Ç–∏–∫–∞ —Å–ø—Ä—è–∂–µ–Ω–∏—è –≥–ª–∞–≥–æ–ª–æ–≤</h1>
            <p class="subtitle">–û—Å–≤–æ–π—Ç–µ —Å–ø—Ä—è–∂–µ–Ω–∏–µ –∏—Å–ø–∞–Ω—Å–∫–∏—Ö –≥–ª–∞–≥–æ–ª–æ–≤</p>

            <div style="margin-top: 30px;">
                <div class="verb-card" onclick="startVerbPractice('presente')">
                    <div class="verb-header">
                        <span class="verb-title">–ù–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è (Presente)</span>
                        <span class="verb-icon">‚è∞</span>
                    </div>
                    <p style="color: #7f8c8d; margin-top: 10px;">–ü—Ä–∞–∫—Ç–∏–∫–∞ —Å–ø—Ä—è–∂–µ–Ω–∏—è –≤ –Ω–∞—Å—Ç–æ—è—â–µ–º –≤—Ä–µ–º–µ–Ω–∏</p>
                </div>

                <div class="verb-card" onclick="startVerbPractice('preterito')">
                    <div class="verb-header">
                        <span class="verb-title">–ü—Ä–æ—à–µ–¥—à–µ–µ –≤—Ä–µ–º—è (Pret√©rito)</span>
                        <span class="verb-icon">‚èÆÔ∏è</span>
                    </div>
                    <p style="color: #7f8c8d; margin-top: 10px;">–ü—Ä–∞–∫—Ç–∏–∫–∞ —Å–ø—Ä—è–∂–µ–Ω–∏—è –≤ –ø—Ä–æ—à–µ–¥—à–µ–º –≤—Ä–µ–º–µ–Ω–∏</p>
                </div>
            </div>

            <button class="btn btn-back" onclick="showMainMenu()">‚Üê –ù–∞–∑–∞–¥ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             VERB PRACTICE SCREEN
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="verbPracticeScreen" class="hidden">
            <button class="btn btn-grammar" onclick="showGrammarList()">üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</button>
            <h1 id="verbPracticeTitle">–ü—Ä–∞–∫—Ç–∏–∫–∞ –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏</h1>
            <p class="subtitle" id="verbPracticeSubtitle">–ü—Ä–æ—Å–ø—Ä—è–≥–∞–π—Ç–µ –≥–ª–∞–≥–æ–ª: <strong id="currentVerb">hablar</strong></p>

            <div class="conjugation-container">
                <div class="conjugation-grid" id="conjugationGrid">
                    <!-- Will be filled dynamically -->
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn btn-primary" onclick="checkConjugations()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç—ã</button>
                    <button class="btn btn-secondary" onclick="nextVerb()">–°–ª–µ–¥—É—é—â–∏–π –≥–ª–∞–≥–æ–ª</button>
                    <button class="btn btn-back" onclick="showVerbMenu()">‚Üê –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>
                </div>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             QA DEVELOPER MODE
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="qaScreen" class="hidden">
            <button class="btn btn-grammar" onclick="showGrammarList()">üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</button>
            <h1>üß™ –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ QA</h1>
            <p class="subtitle">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∏</p>

            <div style="margin: 30px 0;">
                <button class="btn btn-primary" onclick="unlockAllUnidades()">üîì –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ Unidades</button>
                <button class="btn btn-warning" onclick="resetProgress()">üîÑ –°–±—Ä–æ—Å–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
                <button class="btn btn-secondary" onclick="fillProgress()">üìä –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –¥–æ 100%</button>
                <button class="btn btn-primary" onclick="unlockExam()">üéì –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —ç–∫–∑–∞–º–µ–Ω</button>
                <button class="btn btn-success" onclick="unlockAllPalabrasTests()">üü¢ –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã Palabras</button>
                <button class="btn btn-success" onclick="runQATestsV3()">‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å QA —Ç–µ—Å—Ç—ã</button>
                <button class="btn btn-warning" onclick="viewLocalStorage()">üíæ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å localStorage</button>
                <button class="btn btn-back" onclick="showMainMenu()">‚Üê –ù–∞–∑–∞–¥ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</button>
            </div>

            <div id="qaOutput" style="margin-top: 20px; padding: 20px; background: #f8f9fa; border-radius: 10px; font-family: monospace; font-size: 0.9em; max-height: 400px; overflow-y: auto;">
                –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫–∏ –≤—ã—à–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             REFERENCE MAIN MENU (Vocabulario / Gram√°tica)
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="referenceMainMenu" class="hidden">
            <h1>üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</h1>
            <p class="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª</p>

            <div style="display: flex; flex-direction: row; gap: 40px; margin-top: 30px; justify-content: center;">
                <button class="btn" onclick="showVocabularyScreen()" style="background: transparent; color: #2c3e50; padding: 25px; font-size: 1.4em; border: 4px solid #667eea; border-radius: 15px; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 15px; width: 160px; height: 160px; justify-content: center; font-family: 'Nunito', sans-serif;">
                    <span style="font-weight: 700;">Vocabulario</span>
                    <span style="font-size: 48px;">üìñ</span>
                </button>
                <button class="btn" onclick="showGrammarSubMenu()" style="background: transparent; color: #2c3e50; padding: 25px; font-size: 1.4em; border: 4px solid #667eea; border-radius: 15px; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 15px; width: 160px; height: 160px; justify-content: center; font-family: 'Nunito', sans-serif;">
                    <span style="font-weight: 700;">Gram√°tica</span>
                    <span style="font-size: 48px;">üìù</span>
                </button>
            </div>

            <button class="btn btn-back" onclick="goBackFromReference()" style="margin-top: 30px;">‚Üê –ù–∞–∑–∞–¥</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             GRAMMAR SUB MENU (Ejercicios Gram√°tica / M√°s Gram√°tica)
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="grammarSubMenu" class="hidden">
            <h1>üìù Gram√°tica</h1>
            <p class="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª</p>

            <div style="display: flex; flex-direction: row; gap: 40px; margin-top: 30px; justify-content: center;">
                <button class="btn" onclick="showEjerciciosGramatica()" style="background: transparent; color: #2c3e50; padding: 25px; font-size: 1.4em; border: 4px solid #667eea; border-radius: 15px; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 15px; width: 160px; height: 160px; justify-content: center; font-family: 'Nunito', sans-serif;">
                    <span style="font-weight: 700; font-size: 0.7em; text-align: center;">Ejercicios<br>Gram√°tica</span>
                    <span style="font-size: 48px;">üìù</span>
                </button>
                <button class="btn" onclick="showMasGramatica()" style="background: transparent; color: #2c3e50; padding: 25px; font-size: 1.4em; border: 4px solid #667eea; border-radius: 15px; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 15px; width: 160px; height: 160px; justify-content: center; font-family: 'Nunito', sans-serif;">
                    <span style="font-weight: 700; font-size: 0.7em; text-align: center;">M√°s<br>Gram√°tica</span>
                    <span style="font-size: 48px;">üìö</span>
                </button>
            </div>

            <button class="btn btn-back" onclick="showReferenceMain()" style="margin-top: 30px;">‚Üê –ù–∞–∑–∞–¥</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             GRAMMAR REFERENCE LIST SCREEN (M√°s Gram√°tica)
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="grammarListScreen" class="hidden">
            <h1>üìö M√°s Gram√°tica</h1>
            <p class="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª–æ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</p>

            <!-- Rules Grid (5 per page) -->
            <div id="grammarRulesContainer" style="margin-top: 30px;">
                <!-- Rules will be rendered dynamically -->
            </div>

            <!-- Pagination Controls -->
            <div id="grammarPagination" style="display: flex; justify-content: center; align-items: center; gap: 15px; margin-top: 30px;">
                <button class="btn btn-secondary" id="grammarPrevBtn" onclick="grammarPrevPage()" style="padding: 8px 16px; font-size: 0.9em;">‚Üê –ù–∞–∑–∞–¥</button>
                <span id="grammarPageIndicator" style="font-size: 0.95em;">–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1 / 1</span>
                <button class="btn btn-secondary" id="grammarNextBtn" onclick="grammarNextPage()" style="padding: 8px 16px; font-size: 0.9em;">–í–ø–µ—Ä—ë–¥ ‚Üí</button>
            </div>

            <button class="btn btn-back" onclick="showGrammarSubMenu()" style="margin-top: 30px;">‚Üê –ù–∞–∑–∞–¥</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             GRAMMAR DETAIL SCREEN
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="grammarDetailScreen" class="hidden">
            <h1 id="grammarDetailTitle">–ü—Ä–∞–≤–∏–ª–æ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏</h1>

            <div id="grammarDetailContent" style="margin-top: 30px;">
                <!-- Grammar rule content will be rendered dynamically -->
            </div>

            <!-- Subtopic pagination -->
            <div id="subtopicPagination" style="display: flex; justify-content: center; align-items: center; gap: 15px; margin-top: 30px;">
                <button class="btn btn-secondary" id="subtopicPrevBtn" onclick="prevSubtopic()">‚Üê –ù–∞–∑–∞–¥</button>
                <span id="subtopicPageIndicator" style="font-size: 1.1em; font-weight: 600;">–ß–∞—Å—Ç—å 1 / 1</span>
                <button class="btn btn-secondary" id="subtopicNextBtn" onclick="nextSubtopic()">–í–ø–µ—Ä—ë–¥ ‚Üí</button>
            </div>

            <button class="btn btn-back" onclick="showMasGramatica()" style="margin-top: 30px;">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É –ø—Ä–∞–≤–∏–ª</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             GRAMMAR INTERACTIVE MODE SCREEN
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="grammarInteractiveScreen" class="hidden">
            <div style="text-align: center; margin-bottom: 20px;">
                <h1 id="interactiveTitle" style="margin-bottom: 10px;">–ü—Ä–∞–≤–∏–ª–æ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏</h1>
                <p style="color: #667eea; font-size: 1.1em; font-weight: 600;">‚ñ∂Ô∏è –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º</p>
            </div>

            <div id="interactiveContent" style="margin: 40px auto; padding: 40px; background: white; border-radius: 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); max-width: 800px; min-height: 300px; display: flex; align-items: center; justify-content: center;">
                <!-- Interactive slide content will be rendered here -->
                <div id="interactiveSlideContent" style="font-size: 1.2em; line-height: 1.8; text-align: center;">
                    <!-- Content goes here -->
                </div>
            </div>

            <!-- Exercise Container (shown when needed) -->
            <div id="interactiveExercise" class="hidden" style="margin: 40px auto; padding: 30px; background: #f8f9fa; border-radius: 15px; max-width: 800px;">
                <h3 id="exerciseTitle" style="text-align: center; margin-bottom: 20px;">–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</h3>
                <div id="exerciseContent">
                    <!-- Exercise will be rendered here -->
                </div>
            </div>

            <button class="btn btn-back" onclick="exitInteractiveMode()" style="margin-top: 30px;">‚Üê –í—ã–π—Ç–∏ –∏–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             EXAM MENU (Test Type Selection)
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="examMenuScreen" class="menu-container hidden">
            <h1>üéì –≠–∫–∑–∞–º–µ–Ω</h1>
            <p class="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Ç–µ—Å—Ç–∞</p>

            <div class="exam-type-buttons">
                <button class="btn btn-exam-type btn-palabras-exam" onclick="startPalabrasExam()">
                    <span class="exam-type-icon">üìù</span>
                    <span class="exam-type-title">–¢–µ—Å—Ç –Ω–∞ —Å–ª–æ–≤–∞</span>
                    <span class="exam-type-desc">–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ª–æ–≤–∞—Ä–Ω–æ–≥–æ –∑–∞–ø–∞—Å–∞</span>
                </button>

                <button class="btn btn-exam-type btn-grammar-exam" onclick="startGrammarExam()">
                    <span class="exam-type-icon">üìñ</span>
                    <span class="exam-type-title">–¢–µ—Å—Ç –Ω–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫—É</span>
                    <span class="exam-type-desc">–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª</span>
                </button>
            </div>

            <button class="btn btn-back" onclick="showUnidadMenu(currentUnidad)" style="margin-top: 30px;">‚Üê –ù–∞–∑–∞–¥</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             PALABRAS EXAM SCREEN (Test on words - grouped by semantic groups)
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="palabrasExamScreen" class="question-container hidden">
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–µ—Å—Ç–∞ -->
            <h2 id="palabrasExamTitle" style="
                color: #667eea;
                text-align: center;
                margin-bottom: 5px;
                font-size: 1.4em;
            ">üìù –¢–ï–°–¢ –ù–ê –°–õ–û–í–ê - UNIDAD 1</h2>

            <!-- –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –≥—Ä—É–ø–ø—ã -->
            <h3 id="palabrasExamGroupName" style="
                color: #f39c12;
                text-align: center;
                margin-bottom: 15px;
                font-size: 1.2em;
            ">FAMILIA</h3>

            <p style="text-align: center; color: rgba(255,255,255,0.8); margin-bottom: 15px; font-size: 0.95em;">
                üìù –í–ø–∏—à–∏—Ç–µ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
            </p>

            <!-- –û–±—â–∏–π —Ç–∞–π–º–µ—Ä -->
            <div style="
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 15px;
                margin-bottom: 10px;
            ">
                <span style="color: rgba(255,255,255,0.7); font-size: 1em;">‚è± –û—Å—Ç–∞–ª–æ—Å—å –≤—Ä–µ–º–µ–Ω–∏:</span>
                <span id="palabrasExamTimer" style="
                    font-size: 1.6em;
                    font-weight: bold;
                    color: #27ae60;
                    min-width: 70px;
                    text-align: center;
                ">10:00</span>
            </div>

            <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —Ç–∞–π–º–µ—Ä–∞ -->
            <div style="
                width: 100%;
                max-width: 500px;
                height: 6px;
                background: rgba(255,255,255,0.2);
                border-radius: 4px;
                margin: 0 auto 15px auto;
                overflow: hidden;
            ">
                <div id="palabrasExamTimerBar" style="
                    width: 100%;
                    height: 100%;
                    background: linear-gradient(90deg, #27ae60, #2ecc71);
                    border-radius: 4px;
                    transition: width 0.5s linear;
                "></div>
            </div>

            <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
            <div style="text-align: center; margin-bottom: 15px;">
                <span id="palabrasExamPageIndicator" style="
                    background: rgba(102, 126, 234, 0.4);
                    padding: 6px 16px;
                    border-radius: 15px;
                    color: white;
                    font-weight: 600;
                    font-size: 0.95em;
                ">–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1 –∏–∑ 4</span>
            </div>

            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π (–º–∞–∫—Å 10 –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É) -->
            <div id="palabrasExamQuestionsContainer" style="
                display: flex;
                flex-direction: column;
                gap: 12px;
                margin-bottom: 20px;
            ">
                <!-- –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>

            <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ -->
            <div style="
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 20px;
                margin-bottom: 15px;
            ">
                <button id="palabrasExamPrevBtn" onclick="palabrasExamPrevPage()" class="btn btn-back" style="
                    padding: 10px 25px;
                    opacity: 0.5;
                " disabled>
                    ‚Üê –ù–∞–∑–∞–¥
                </button>

                <span id="palabrasExamPageNumbers" style="
                    color: rgba(255,255,255,0.8);
                    font-size: 1.1em;
                ">1 / 4</span>

                <button id="palabrasExamNextBtn" onclick="palabrasExamNextPage()" class="btn btn-back" style="
                    padding: 10px 25px;
                    background: rgba(102, 126, 234, 0.5);
                ">
                    –î–∞–ª–µ–µ ‚Üí
                </button>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ –û—Ç–ø—Ä–∞–≤–∏—Ç—å -->
            <div style="text-align: center; margin-top: 15px;">
                <button onclick="palabrasExamSubmit()" style="
                    padding: 12px 40px;
                    background: linear-gradient(135deg, #27ae60, #2ecc71);
                    color: white;
                    border: none;
                    border-radius: 10px;
                    font-size: 1.2em;
                    font-weight: 600;
                    cursor: pointer;
                    box-shadow: 0 4px 15px rgba(39, 174, 96, 0.4);
                    transition: all 0.3s;
                ">
                    ‚úì –û—Ç–ø—Ä–∞–≤–∏—Ç—å
                </button>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞ -->
            <div style="text-align: center; margin-top: 15px;">
                <button class="btn btn-back" onclick="exitPalabrasExam()" style="opacity: 0.7;">
                    ‚Üê –í—ã–π—Ç–∏ –∏–∑ —Ç–µ—Å—Ç–∞
                </button>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             PALABRAS EXAM RESULTS SCREEN
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="palabrasExamResultsScreen" class="question-container hidden" style="max-width: 900px;">
            <!-- –°—Ç–∞—Ç—É—Å: –ó–ê–ß–Å–¢ / –ù–ï –ó–ê–ß–Å–¢ -->
            <div id="palabrasExamResultStatus" style="
                text-align: center;
                font-size: 2.2em;
                font-weight: bold;
                margin: 20px 0;
            ">‚úÖ –ó–ê–ß–Å–¢!</div>

            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div style="
                display: flex;
                justify-content: center;
                gap: 30px;
                margin: 20px 0;
                flex-wrap: wrap;
            ">
                <div style="text-align: center;">
                    <div style="font-size: 2.2em; font-weight: bold; color: #27ae60;" id="palabrasExamResultCorrect">20</div>
                    <div style="color: rgba(255,255,255,0.8);">–ü—Ä–∞–≤–∏–ª—å–Ω–æ</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2.2em; font-weight: bold; color: #e74c3c;" id="palabrasExamResultWrong">6</div>
                    <div style="color: rgba(255,255,255,0.8);">–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2.2em; font-weight: bold; color: #667eea;" id="palabrasExamResultPercent">77%</div>
                    <div style="color: rgba(255,255,255,0.8);">–†–µ–∑—É–ª—å—Ç–∞—Ç</div>
                </div>
            </div>

            <div style="text-align: center; color: rgba(255,255,255,0.7); margin-bottom: 15px;">
                –ú–∏–Ω–∏–º—É–º –¥–ª—è –∑–∞—á—ë—Ç–∞: 80%
            </div>

            <!-- –î–µ—Ç–∞–ª–∏ –ø–æ –≥—Ä—É–ø–ø–∞–º -->
            <div id="palabrasExamResultDetails" style="
                max-height: 350px;
                overflow-y: auto;
                margin: 15px 0;
            ">
                <!-- –î–µ—Ç–∞–ª–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>

            <!-- –ö–Ω–æ–ø–∫–∏ -->
            <div style="display: flex; gap: 15px; justify-content: center; margin-top: 25px; flex-wrap: wrap;">
                <button onclick="retryPalabrasExam()" style="
                    padding: 12px 25px;
                    background: linear-gradient(135deg, #3498db, #2980b9);
                    color: white;
                    border: none;
                    border-radius: 10px;
                    font-size: 1em;
                    font-weight: 600;
                    cursor: pointer;
                ">üîÑ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                <button onclick="backToExamMenu()" style="
                    padding: 12px 25px;
                    background: linear-gradient(135deg, #95a5a6, #7f8c8d);
                    color: white;
                    border: none;
                    border-radius: 10px;
                    font-size: 1em;
                    font-weight: 600;
                    cursor: pointer;
                ">‚Üê –ù–∞–∑–∞–¥ –∫ —ç–∫–∑–∞–º–µ–Ω—É</button>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             GRAMMAR EXAM SCREEN (Test on grammar exercises)
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="grammarExamScreen" class="question-container hidden">
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–µ—Å—Ç–∞ -->
            <h2 id="grammarExamTitle" style="
                color: #9b59b6;
                text-align: center;
                margin-bottom: 5px;
                font-size: 1.4em;
            ">‚úçÔ∏è –¢–ï–°–¢ –ù–ê –ì–†–ê–ú–ú–ê–¢–ò–ö–£ - UNIDAD 1</h2>

            <!-- –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è -->
            <h3 id="grammarExamExerciseName" style="
                color: #f39c12;
                text-align: center;
                margin-bottom: 15px;
                font-size: 1.2em;
            ">Preposiciones: con, en, entre</h3>

            <p style="text-align: center; color: rgba(255,255,255,0.8); margin-bottom: 15px; font-size: 0.95em;">
                ‚úçÔ∏è –í–ø–∏—à–∏—Ç–µ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
            </p>

            <!-- –û–±—â–∏–π —Ç–∞–π–º–µ—Ä -->
            <div style="
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 15px;
                margin-bottom: 10px;
            ">
                <span style="color: rgba(255,255,255,0.7); font-size: 1em;">‚è± –û—Å—Ç–∞–ª–æ—Å—å –≤—Ä–µ–º–µ–Ω–∏:</span>
                <span id="grammarExamTimer" style="
                    font-size: 1.6em;
                    font-weight: bold;
                    color: #27ae60;
                    min-width: 70px;
                    text-align: center;
                ">10:00</span>
            </div>

            <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —Ç–∞–π–º–µ—Ä–∞ -->
            <div style="
                width: 100%;
                max-width: 500px;
                height: 6px;
                background: rgba(255,255,255,0.2);
                border-radius: 4px;
                margin: 0 auto 15px auto;
                overflow: hidden;
            ">
                <div id="grammarExamTimerBar" style="
                    width: 100%;
                    height: 100%;
                    background: linear-gradient(90deg, #27ae60, #2ecc71);
                    border-radius: 4px;
                    transition: width 0.5s linear;
                "></div>
            </div>

            <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
            <div style="text-align: center; margin-bottom: 15px;">
                <span id="grammarExamPageIndicator" style="
                    background: rgba(155, 89, 182, 0.4);
                    padding: 6px 16px;
                    border-radius: 15px;
                    color: white;
                    font-weight: 600;
                    font-size: 0.95em;
                ">–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 1 –∏–∑ 10</span>
            </div>

            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π (5 –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É) -->
            <div id="grammarExamQuestionsContainer" style="
                display: flex;
                flex-direction: column;
                gap: 12px;
                margin-bottom: 20px;
            ">
                <!-- –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>

            <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ -->
            <div style="
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 20px;
                margin-bottom: 15px;
            ">
                <button id="grammarExamPrevBtn" onclick="grammarExamPrevPage()" class="btn btn-back" style="
                    padding: 10px 25px;
                    opacity: 0.5;
                " disabled>
                    ‚Üê –ù–∞–∑–∞–¥
                </button>

                <span id="grammarExamPageNumbers" style="
                    color: rgba(255,255,255,0.8);
                    font-size: 1.1em;
                ">1 / 10</span>

                <button id="grammarExamNextBtn" onclick="grammarExamNextPage()" class="btn btn-back" style="
                    padding: 10px 25px;
                    background: rgba(155, 89, 182, 0.5);
                ">
                    –î–∞–ª–µ–µ ‚Üí
                </button>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ –û—Ç–ø—Ä–∞–≤–∏—Ç—å -->
            <div style="text-align: center; margin-top: 15px;">
                <button onclick="grammarExamSubmit()" style="
                    padding: 12px 40px;
                    background: linear-gradient(135deg, #27ae60, #2ecc71);
                    color: white;
                    border: none;
                    border-radius: 10px;
                    font-size: 1.2em;
                    font-weight: 600;
                    cursor: pointer;
                    box-shadow: 0 4px 15px rgba(39, 174, 96, 0.4);
                    transition: all 0.3s;
                ">
                    ‚úì –û—Ç–ø—Ä–∞–≤–∏—Ç—å
                </button>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞ -->
            <div style="text-align: center; margin-top: 15px;">
                <button class="btn btn-back" onclick="exitGrammarExam()" style="opacity: 0.7;">
                    ‚Üê –í—ã–π—Ç–∏ –∏–∑ —Ç–µ—Å—Ç–∞
                </button>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             GRAMMAR EXAM RESULTS SCREEN
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="grammarExamResultsScreen" class="question-container hidden" style="max-width: 900px;">
            <!-- –°—Ç–∞—Ç—É—Å: –ó–ê–ß–Å–¢ / –ù–ï –ó–ê–ß–Å–¢ -->
            <div id="grammarExamResultStatus" style="
                text-align: center;
                font-size: 2.2em;
                font-weight: bold;
                margin: 20px 0;
            ">‚úÖ –ó–ê–ß–Å–¢!</div>

            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div style="
                display: flex;
                justify-content: center;
                gap: 30px;
                margin: 20px 0;
                flex-wrap: wrap;
            ">
                <div style="text-align: center;">
                    <div style="font-size: 2.2em; font-weight: bold; color: #27ae60;" id="grammarExamResultCorrect">40</div>
                    <div style="color: rgba(255,255,255,0.8);">–ü—Ä–∞–≤–∏–ª—å–Ω–æ</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2.2em; font-weight: bold; color: #e74c3c;" id="grammarExamResultWrong">10</div>
                    <div style="color: rgba(255,255,255,0.8);">–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2.2em; font-weight: bold; color: #9b59b6;" id="grammarExamResultPercent">80%</div>
                    <div style="color: rgba(255,255,255,0.8);">–†–µ–∑—É–ª—å—Ç–∞—Ç</div>
                </div>
            </div>

            <div style="text-align: center; color: rgba(255,255,255,0.7); margin-bottom: 15px;">
                –ú–∏–Ω–∏–º—É–º –¥–ª—è –∑–∞—á—ë—Ç–∞: 80%
            </div>

            <!-- –î–µ—Ç–∞–ª–∏ –ø–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º -->
            <div id="grammarExamResultDetails" style="
                max-height: 350px;
                overflow-y: auto;
                margin: 15px 0;
            ">
                <!-- –î–µ—Ç–∞–ª–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>

            <!-- –ö–Ω–æ–ø–∫–∏ -->
            <div style="display: flex; gap: 15px; justify-content: center; margin-top: 25px; flex-wrap: wrap;">
                <button onclick="retryGrammarExam()" style="
                    padding: 12px 25px;
                    background: linear-gradient(135deg, #9b59b6, #8e44ad);
                    color: white;
                    border: none;
                    border-radius: 10px;
                    font-size: 1em;
                    font-weight: 600;
                    cursor: pointer;
                ">üîÑ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                <button onclick="backToExamMenu()" style="
                    padding: 12px 25px;
                    background: linear-gradient(135deg, #95a5a6, #7f8c8d);
                    color: white;
                    border: none;
                    border-radius: 10px;
                    font-size: 1em;
                    font-weight: 600;
                    cursor: pointer;
                ">‚Üê –ù–∞–∑–∞–¥ –∫ —ç–∫–∑–∞–º–µ–Ω—É</button>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             EXAM SCREEN
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="examScreen" class="question-container hidden">
            <div class="progress" id="examProgress">–í–æ–ø—Ä–æ—Å 1 –∏–∑ 63</div>
            <p id="examSectionIndicator" style="text-align: center; color: #667eea; font-weight: bold; font-size: 1.1em; margin: 10px 0;">
                –†–∞–∑–¥–µ–ª: <span id="examSectionName">Palabras - FAMILIA</span>
            </p>
            <div class="timer-text" id="examTimerText">10</div>
            <div class="timer-container">
                <div class="timer-bar" id="examTimerBar"></div>
            </div>

            <div class="question-card">
                <h2 id="examQuestionText">–í–æ–ø—Ä–æ—Å</h2>
                <p class="subtitle" id="examCategoryHint" style="color: #666; margin-bottom: 20px;"></p>
                <div style="display: flex; flex-direction: column; gap: 15px; max-width: 500px; margin: 0 auto;">
                    <input
                        type="text"
                        id="examAnswerInput"
                        placeholder="–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç –Ω–∞ –∏—Å–ø–∞–Ω—Å–∫–æ–º..."
                        style="padding: 15px; font-size: 1.2em; border: 2px solid #ddd; border-radius: 10px; text-align: center;"
                        onkeypress="if(event.key === 'Enter') submitExamAnswer()"
                    />
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" onclick="submitExamAnswer()" style="font-size: 1.1em; flex: 1;">
                            ‚úÖ –û—Ç–≤–µ—Ç–∏—Ç—å
                        </button>
                        <button class="btn btn-secondary" onclick="skipExamQuestion()" style="font-size: 1.1em; flex: 1;">
                            ‚è≠Ô∏è –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å
                        </button>
                    </div>
                </div>
            </div>

            <button class="btn btn-back" onclick="confirmExitExam()" style="margin-top: 30px;">‚ùå –í—ã–π—Ç–∏ –∏–∑ —ç–∫–∑–∞–º–µ–Ω–∞</button>
        </div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             EXAM RESULTS SCREEN
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="examResultsScreen" class="results-container hidden">
            <h1>üéì –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —ç–∫–∑–∞–º–µ–Ω–∞</h1>

            <div class="results-summary">
                <div class="score-circle">
                    <span id="examScorePercent">0%</span>
                </div>

                <div class="results-stats">
                    <p id="examPassStatus" style="font-size: 1.3em; font-weight: bold; margin-bottom: 15px;">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è: "–≠–∫–∑–∞–º–µ–Ω —Å–¥–∞–Ω" –∏–ª–∏ "–≠–∫–∑–∞–º–µ–Ω –Ω–µ —Å–¥–∞–Ω" -->
                    </p>
                    <p><strong>–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤:</strong> <span id="examCorrect">0</span> / <span id="examTotal">63</span></p>
                    <p><strong>–ó–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è:</strong> <span id="examTimeSpent">00:00</span></p>
                </div>
            </div>

            <!-- –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è JS –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏) -->
            <div id="examDetailedResults" style="margin-top: 30px;">
                <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç:
                     1. –ë–ª–æ–∫ Palabras —Å –æ–±—â–∏–º % –∏ —Ä–∞–∑–±–∏–≤–∫–æ–π –ø–æ –≥—Ä—É–ø–ø–∞–º
                     2. –ë–ª–æ–∫ Ejercicios —Å –æ–±—â–∏–º % –∏ —Ä–∞–∑–±–∏–≤–∫–æ–π –ø–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º
                -->
            </div>

            <div style="display: flex; gap: 15px; justify-content: center; margin-top: 30px;">
                <button class="btn btn-primary" onclick="startExam()">üîÑ –ü—Ä–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ</button>
                <button class="btn btn-back" onclick="showMainMenu()">üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
             FEEDBACK MODAL
             ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="feedbackModal" class="modal hidden">
            <div class="modal-content">
                <h3 id="modalTitle">–ü—Ä–∞–≤–∏–ª—å–Ω–æ! ‚úÖ</h3>
                <p id="modalMessage">–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞!</p>
                <button class="btn btn-primary" onclick="closeModal()">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         VOCABULARY SCREEN (Full Screen Overlay - OUTSIDE CONTAINER)
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="vocabularyScreen" class="vocabulary-overlay hidden">
        <!-- Parallax background -->
        <div id="vocabulary-bg" class="vocabulary-parallax-bg"></div>

        <!-- Expanded card overlay -->
        <div id="expandedCardOverlay" class="expanded-card-overlay hidden" onclick="closeExpandedCard()">
            <div class="expanded-card" onclick="event.stopPropagation()">
                <div class="expanded-card-icon"></div>
                <div class="expanded-card-spanish"></div>
                <div class="expanded-card-russian"></div>
            </div>
        </div>

        <!-- Header with glassmorphism -->
        <div class="vocabulary-header" style="flex-shrink: 0;">
            <h1 style="color: #2c3e50; margin: 0; font-size: 1.8em;">üìñ Vocabulario</h1>
            <p style="color: #7f8c8d; margin: 8px 0;">–í—Å–µ —Å–ª–æ–≤–∞ –∏–∑ –≤—Å–µ—Ö Unidads</p>
            <span id="vocabularyWordCount" style="font-weight: 600; color: #667eea;">0 —Å–ª–æ–≤</span>
        </div>

        <!-- Scrollable words grid container -->
        <div id="vocabularyWordsContainer" style="flex: 1; overflow-y: auto; padding: 10px;">
            <!-- Words will be rendered as grid here -->
        </div>

        <!-- Footer with back button -->
        <div class="vocabulary-footer" style="flex-shrink: 0;">
            <button class="btn btn-back" onclick="hideVocabularyScreen(); showReferenceMain();" style="background: rgba(102, 126, 234, 0.6); color: white; border: none; padding: 12px 30px;">‚Üê –ù–∞–∑–∞–¥</button>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         EJERCICIOS GRAM√ÅTICA FULL SCREEN (–≤ —Å—Ç–∏–ª–µ Vocabulario) - OUTSIDE CONTAINER
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="ejerciciosGramaticaRefScreen" class="grammar-ref-overlay hidden">
        <!-- Parallax background -->
        <div id="grammar-ref-bg" class="grammar-ref-parallax-bg"></div>

        <!-- Expanded card overlay -->
        <div id="expandedGrammarCardOverlay" class="expanded-card-overlay hidden" onclick="closeExpandedGrammarCard()">
            <div class="expanded-card expanded-grammar-card" onclick="event.stopPropagation()">
                <div class="expanded-card-icon"></div>
                <div class="expanded-card-spanish"></div>
                <div class="expanded-card-russian"></div>
            </div>
        </div>

        <!-- Header with glassmorphism -->
        <div class="vocabulary-header" style="flex-shrink: 0;">
            <h1 style="color: #9b59b6; margin: 0; font-size: 1.8em;">üìù Ejercicios Gram√°tica</h1>
            <p style="color: #7f8c8d; margin: 8px 0;">–ì—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –∏–∑ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π</p>
            <span id="gramUnlockedCount" style="font-weight: 600; color: #9b59b6;">0</span>
            <span style="color: #7f8c8d;"> / </span>
            <span id="gramTotalCount" style="font-weight: 600; color: #9b59b6;">0</span>
            <span style="color: #7f8c8d;"> –ø—Ä–∞–≤–∏–ª</span>
        </div>

        <!-- Scrollable grid container -->
        <div id="ejerciciosGramaticaContainer" style="flex: 1; overflow-y: auto; padding: 10px;">
            <!-- Cards will be rendered as grid here -->
        </div>

        <!-- Footer with back button -->
        <div class="vocabulary-footer" style="flex-shrink: 0;">
            <button class="btn btn-back" onclick="hideGrammarRefScreen(); showGrammarSubMenu();" style="background: rgba(155, 89, 182, 0.6); color: white; border: none; padding: 12px 30px;">‚Üê –ù–∞–∑–∞–¥</button>
        </div>
    </div>

  <script src="js/app.js"></script>

  <!-- Parallax & Click Sound Script -->
  <script>
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    // CLICK SOUND EFFECT
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    const clickSound = new Audio('mixkit-modern-technology-select-3124.wav');
    clickSound.volume = 0.5;

    document.addEventListener('click', (e) => {
      if (e.target.closest('button, .card, .category-card, .group-card, .grammar-item, .level-btn, .exercise-item, a')) {
        clickSound.currentTime = 0;
        clickSound.play().catch(() => {});
      }
    });

    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    // PARALLAX EFFECT FOR AZULEJOS BACKGROUND
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    const azulejosBg = document.getElementById('azulejos-bg');
    const container = document.querySelector('.container');
    let isOverContainer = false;

    // Track if mouse is over the container (menu)
    container.addEventListener('mouseenter', () => { isOverContainer = true; });
    container.addEventListener('mouseleave', () => { isOverContainer = false; });

    // Parallax effect - move background based on cursor position
    document.addEventListener('mousemove', (e) => {
      if (isOverContainer) return; // Don't move when over menu

      const moveX = (e.clientX - window.innerWidth / 2) * 0.02;
      const moveY = (e.clientY - window.innerHeight / 2) * 0.02;

      azulejosBg.style.transform = `translate(${moveX}px, ${moveY}px)`;
    });

    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    // PARALLAX EFFECT FOR VOCABULARY SCREEN
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    const vocabularyBg = document.getElementById('vocabulary-bg');
    const vocabularyScreen = document.getElementById('vocabularyScreen');

    vocabularyScreen.addEventListener('mousemove', (e) => {
      if (!vocabularyBg) return;

      const moveX = (e.clientX - window.innerWidth / 2) * 0.015;
      const moveY = (e.clientY - window.innerHeight / 2) * 0.015;

      vocabularyBg.style.transform = `translate(${moveX}px, ${moveY}px)`;
    });

    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    // PARALLAX EFFECT FOR EJERCICIOS GRAM√ÅTICA SCREEN
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    const grammarRefBg = document.getElementById('grammar-ref-bg');
    const grammarRefScreen = document.getElementById('ejerciciosGramaticaRefScreen');

    grammarRefScreen.addEventListener('mousemove', (e) => {
      if (!grammarRefBg) return;

      const moveX = (e.clientX - window.innerWidth / 2) * 0.015;
      const moveY = (e.clientY - window.innerHeight / 2) * 0.015;

      grammarRefBg.style.transform = `translate(${moveX}px, ${moveY}px)`;
    });
  </script>
</body>
</html>
